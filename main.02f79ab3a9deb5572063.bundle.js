(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1029:function(module,exports){},1065:function(module,exports,__webpack_require__){var map={"./_welcome/welcome.stories.tsx":1066,"./hApps/deepkey/components/specs/deepKeyOverview.stories.tsx":1106,"./hApps/login/components/login.stories.tsx":1107,"./hApps/personas-profiles/components/persona/specs/persona.stories.tsx":1121,"./hApps/personas-profiles/components/persona/specs/personas.stories.tsx":1122,"./hApps/personas-profiles/components/profile/specs/autoCompleteProfileField.stories.tsx":1123,"./hApps/personas-profiles/components/profile/specs/fieldMapper.stories.tsx":1124,"./hApps/personas-profiles/components/profile/specs/profile.stories.tsx":1125,"./hApps/personas-profiles/components/profile/specs/profiles.stories.tsx":1126};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=1065},1066:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),react_redux__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(18),_nav_jsx__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(586),_welcome_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(563),_store__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(45),store=Object(_store__WEBPACK_IMPORTED_MODULE_6__.a)();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("_Sovereign P2P Identity",module).addDecorator(function(story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_3__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},story()))}).add("Identity Manager",function(){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_nav_jsx__WEBPACK_IMPORTED_MODULE_4__.a,null))},{notes:{markdown:_welcome_md__WEBPACK_IMPORTED_MODULE_5__.a}})}.call(this,__webpack_require__(74)(module))},1106:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(20),_storybook_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(30),_deepKeyNotInitNotes_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(564),_deepKeyInitNoKeysNotes_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(565),_deepKeyInitKeysNotes_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(566),_store__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(45),_deepKeyOverview__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(253),_types_deepKey__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(254);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var store=Object(_store__WEBPACK_IMPORTED_MODULE_8__.a)(),mockRule={keysetRoot:"QmKeySetHash",revocationKey:"QmRevocationKeyHash",priorRevocationSelfSig:null},mockAuthorizer={authorizationKey:"QmAuthKeyHash",revocationAuthority:"QmRevocationAuthorityHash",revocationSig:"QmMockRevocationKeySignatureofAuthKey"},keyMetaMockData={newKey:"QmMockNewKeyHash",derivationIndex:1,keyType:_types_deepKey__WEBPACK_IMPORTED_MODULE_10__.a.AppSig,context:"QmMockHcDNAHash"},props={isInitialized:!0,revocationRuleSet:{keysetRoot:"QmKeySetHash",revocationKey:"QmRevocationKeyHash"},allKeys:[{address:"QmKeyHash",keyType:_types_deepKey__WEBPACK_IMPORTED_MODULE_10__.a.AppEnc}],address:void 0,keyType:void 0,authorizerKeySet:{authorizationKey:"qmssss",revocationAuthority:"adsdfgfsd",revocationSig:"my sig"},fetchIsInitialized:jest.fn(function(){return Promise.resolve(!0)}),fetchRevocationRules:jest.fn(function(){return Promise.resolve([{address:"HcsMmockAddressHash",entry:mockRule}])}),fetchAuthorizer:jest.fn(function(){return Promise.resolve(mockAuthorizer)}),fetchAllKeys:jest.fn(function(){return Promise.resolve([keyMetaMockData])}),updateKey:jest.fn(),deleteKey:jest.fn()};function getDeepKeyOverview(){return react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_2__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_1__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_3__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_1__.createElement(_deepKeyOverview__WEBPACK_IMPORTED_MODULE_9__.a,props)))}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_4__.storiesOf)("Deep Key Overview",module).add("Initialized, with RevocationRuleSet & Keys",function(){return props=_objectSpread({},props,{isInitialized:!0,revocationRuleSet:{keysetRoot:"QmKeySetHash",revocationKey:"QmRevocationKeyHash"},allKeys:[{address:"QmKeyHash",keyType:_types_deepKey__WEBPACK_IMPORTED_MODULE_10__.a.AppEnc}]}),getDeepKeyOverview()},{notes:{markdown:_deepKeyInitKeysNotes_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("Initialized, with RevocationRuleSet but No Keys",function(){return props=_objectSpread({},props,{isInitialized:!0,revocationRuleSet:{keysetRoot:"QmKeySetHash",revocationKey:"QmRevocationKeyHash"},allKeys:[]}),getDeepKeyOverview()},{notes:{markdown:_deepKeyInitNoKeysNotes_md__WEBPACK_IMPORTED_MODULE_6__.a}}).add("Not Initialized, No RevocationRuleSet & No Keys",function(){return props=_objectSpread({},props,{isInitialized:!1,revocationRuleSet:void 0,allKeys:[]}),getDeepKeyOverview()},{notes:{markdown:_deepKeyNotInitNotes_md__WEBPACK_IMPORTED_MODULE_5__.a}})}.call(this,__webpack_require__(74)(module))},1107:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(104),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(113),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(22),_login__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(143),_keygen_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(567),_login_test__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(568),_store__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(45),store=Object(_store__WEBPACK_IMPORTED_MODULE_10__.a)(),props={title:"Login",login:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("Click Create Persona")};Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("KeyGen",module).addDecorator(function(story){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},story()))}).add("Holo",Object(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_5__.withNotes)(_keygen_md__WEBPACK_IMPORTED_MODULE_8__.a)(function(){return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_6__.specs)(function(){return _login_test__WEBPACK_IMPORTED_MODULE_9__.a}),react__WEBPACK_IMPORTED_MODULE_0__.createElement(_login__WEBPACK_IMPORTED_MODULE_7__.a,props)}))}.call(this,__webpack_require__(74)(module))},112:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),_material_ui_core___WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(60),_material_ui_core_ExpansionPanel__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(1145),_material_ui_core_ExpansionPanelSummary__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1139),_material_ui_core_ExpansionPanelDetails__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1141),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(179),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(78),_withRoot__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(47),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(77),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_17__),react_autosuggest__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(247),react_autosuggest__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(react_autosuggest__WEBPACK_IMPORTED_MODULE_18__),_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(67);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var match=__webpack_require__(536),parse=__webpack_require__(537),allPersonaSuggestions=[];function renderSuggestion(suggestion,_ref2){var query=_ref2.query,isHighlighted=_ref2.isHighlighted,matches=match(suggestion,query),parts=parse(suggestion,matches);return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_14__.a,{selected:isHighlighted,component:"div"},react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,parts.map(function(part,index){return part.highlight?react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{key:String(index),style:{fontWeight:300}},part.text):react__WEBPACK_IMPORTED_MODULE_7__.createElement("strong",{key:String(index),style:{fontWeight:500}},part.text)})))}function getSuggestionValue(suggestion){return suggestion}function renderSuggestionsContainer(options){var children=options.children;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_15__.a,Object.assign({},options.containerProps,{square:!0}),children)}function getSuggestions(value){var inputValue=value.trim().toLowerCase(),inputLength=inputValue.length,count=0;return 0===inputLength?[]:allPersonaSuggestions.filter(function(suggestion){var keep=count<5&&suggestion.toLowerCase().slice(0,inputLength)===inputValue;return keep&&(count+=1),keep})}var FieldMapper=function(_React$Component){function FieldMapper(props){var _this;return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,FieldMapper),(_this=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(FieldMapper).call(this,props))).handleMappingChange=function(updatedField,value){_this.props.handleMappingChange(updatedField,value),_this.setPersonaAndFieldName(updatedField)},_this.renderInput=function(inputProps){var classes=inputProps.classes,ref=inputProps.ref,other=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(inputProps,["classes","ref"]);return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_10__.a,{fullWidth:!0,id:"personaAutoText",name:"personaAutoText",label:"Persona Name",InputProps:_objectSpread({classes:{input:classes.textfield},disableUnderline:!1,inputRef:ref},other)}))},_this.handleSuggestionsFetchRequested=function(_ref3){var value=_ref3.value;_this.setState({suggestions:getSuggestions(value)})},_this.handleSuggestionsClearRequested=function(){_this.setState({suggestions:[]})},_this.handlePersonaAutoChange=function(event,newVal){var newValue=newVal.newValue;_this.setState({personaAutovalue:newValue})},_this.handlePersonaAutoSelect=function(){},_this.state={suggestions:[],personaAutovalue:props.selectedPersona.name,selectedPersona:props.selectedPersona,fieldAutovalue:"",expansionPanelOpen:!1,mappedPersona:props.selectedPersona,mappedField:props.field.name},_this}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(FieldMapper,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(FieldMapper,[{key:"componentDidMount",value:function componentDidMount(){void 0!==this.props.field.mapping&&this.setPersonaAndFieldName(this.props.field),allPersonaSuggestions=[],this.props.personas.map(function(persona){return allPersonaSuggestions.push(persona.name)})}},{key:"setPersonaAndFieldName",value:function setPersonaAndFieldName(field){if(void 0!==field.mapping){var mapping=field.mapping,filteredPersonas=this.props.personas.filter(function(persona){return mapping.personaAddress===persona.hash});0!==filteredPersonas.length?this.setState({mappedPersona:filteredPersonas[0],mappedField:field.mapping.personaFieldName,personaAutovalue:filteredPersonas[0].name}):this.setState({mappedPersona:this.props.personas[0],personaAutovalue:this.props.personas[0].name})}else this.setState({personaAutovalue:this.props.selectedPersona.name})}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,classes=_this$props.classes,field=_this$props.field,personas=_this$props.personas,profile=_this$props.profile;return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_ExpansionPanel__WEBPACK_IMPORTED_MODULE_11__.a,{expanded:this.state.expansionPanelOpen,style:{boxShadow:"none"}},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_ExpansionPanelSummary__WEBPACK_IMPORTED_MODULE_12__.a,{expandIcon:react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_17___default.a,{name:"expandPersonaDetails",color:this.props.mapSaved?"primary":"secondary",onClick:function onClick(){_this2.setState({expansionPanelOpen:!_this2.state.expansionPanelOpen})}})},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_19__.a,{personas:personas,selectedPersona:this.state.selectedPersona,profile:profile,field:field,handleMappingChange:this.handleMappingChange})),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_ExpansionPanelDetails__WEBPACK_IMPORTED_MODULE_13__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_autosuggest__WEBPACK_IMPORTED_MODULE_18___default.a,{id:"selectedPersonaValue",theme:{container:classes.container,suggestion:classes.suggestion,suggestionsContainerOpen:classes.suggestionsContainerOpen,suggestionsList:classes.suggestionsList},renderInputComponent:this.renderInput,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,renderSuggestionsContainer:renderSuggestionsContainer,getSuggestionValue:getSuggestionValue,renderSuggestion:renderSuggestion,inputProps:{classes:classes,onBlur:this.handlePersonaAutoSelect,onChange:this.handlePersonaAutoChange,value:this.state.personaAutovalue}}),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_10__.a,{className:classes.field,name:"field",label:"Field",value:this.state.mappedField}))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(nextProps.selectedPersona!==prevState.selectedPersona){if(void 0!==nextProps.field.mapping){var mapping=nextProps.field.mapping;nextProps.selectedPersona.fields.filter(function(field){return field.name===mapping.personaFieldName}).length>0&&(mapping.personaAddress=nextProps.selectedPersona.hash);var filteredPersonas=nextProps.personas.filter(function(persona){return mapping.personaAddress===persona.hash});return 0!==filteredPersonas.length?{selectedPersona:nextProps.selectedPersona,mappedPersona:filteredPersonas[0],mappedField:nextProps.field.mapping.personaFieldName,personaAutovalue:filteredPersonas[0].name}:{selectedPersona:nextProps.selectedPersona,mappedPersona:nextProps.personas[0],personaAutovalue:nextProps.personas[0].name}}return{selectedPersona:nextProps.selectedPersona,personaAutovalue:nextProps.selectedPersona.name}}return null}}]),FieldMapper}(react__WEBPACK_IMPORTED_MODULE_7__.Component);__webpack_exports__.a=Object(_withRoot__WEBPACK_IMPORTED_MODULE_16__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__.a)(function styles(_ref){var spacing=_ref.spacing;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__.a)({root:{width:"100%"},container:{flexGrow:1,width:"50%"},field:{width:"50%"},inputLabel:{color:"#8d97a5",fontSize:12},menuItem:{fontFamily:"Roboto",fontSize:14,height:16},selectEmpty:{background:"#fff",marginTop:spacing(2)},suggestion:{display:"block"},suggestionsContainerOpen:{left:0,marginTop:spacing(1),position:"absolute",right:0,zIndex:1},suggestionsList:{listStyleType:"none",margin:0,padding:0}})})(FieldMapper))},1121:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(104),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(22),_persona__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(91),_newPersona_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(569),_threePersonas_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(570),_newPersona_test__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(571),_editPersona_test__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(572),_store__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(45),store=Object(_store__WEBPACK_IMPORTED_MODULE_11__.a)(),newPersona={name:"",hash:"",fields:[]},editPersona={hash:"QmZqtKMs4pg9veqv3p4Sxzkgv2rdR7XoSn2TrLtAPLPSL7",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"},{name:"address",data:"123 Holochain Road"},{name:"suburb",data:"Burwood"},{name:"city",data:"Melbourne"}]};function getPersona(persona){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_persona__WEBPACK_IMPORTED_MODULE_6__.b,{create:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("Click Create Persona"),update:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_4__.action)("Click Update Persona"),getPersonas:jest.fn(function(){return Promise.resolve("Get Personas")}),currentPersona:persona,open:!1})))}Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Persona",module).add("New Persona",function(){return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_5__.specs)(function(){return _newPersona_test__WEBPACK_IMPORTED_MODULE_9__.a}),getPersona(newPersona)},{notes:{markdown:_newPersona_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("Edit Persona",function(){return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_5__.specs)(function(){return _editPersona_test__WEBPACK_IMPORTED_MODULE_10__.a}),getPersona(editPersona)},{notes:{markdown:_threePersonas_md__WEBPACK_IMPORTED_MODULE_8__.a}})}.call(this,__webpack_require__(74)(module))},1122:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react_redux__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(18),react_router__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_storybook_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(30),enzyme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5__),_personas__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(146),_listPersonas_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(573),_constants__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(22),_personas_test__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(574),_store__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(45);Object(enzyme__WEBPACK_IMPORTED_MODULE_4__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5___default.a});var store=Object(_store__WEBPACK_IMPORTED_MODULE_11__.a)();Object(_storybook_react__WEBPACK_IMPORTED_MODULE_3__.storiesOf)("Persona",module).add("List Personas",function(){return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_9__.specs)(function(){return _personas_test__WEBPACK_IMPORTED_MODULE_10__.a}),function getPersonas(personas){return react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_1__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_personas__WEBPACK_IMPORTED_MODULE_6__.a,{personas:personas,getPersonas:jest.fn(function(){return Promise.resolve("Get Personas")})})))}(_constants__WEBPACK_IMPORTED_MODULE_8__.g)},{notes:{markdown:_listPersonas_md__WEBPACK_IMPORTED_MODULE_7__.a}})}.call(this,__webpack_require__(74)(module))},1123:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(104),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(67),_profileNotMappedNoDefaults_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(250),_profileNotMappedHasDefaults_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(251),_profileMapped_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(252),_autoCompleteProfileFieldNotMappedNoMatch_test__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(575),_autoCompleteProfileFieldNotMappedHasMatch_test__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(576),_autoCompleteProfileFieldMapped_test__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(577),_constants__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(2);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Profile/AutoComplete",module).add("Autocomplete Profile Field mapped to Persona data",function(){Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _autoCompleteProfileFieldMapped_test__WEBPACK_IMPORTED_MODULE_10__.a});var props={personas:_constants__WEBPACK_IMPORTED_MODULE_11__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_11__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_11__.b,field:_constants__WEBPACK_IMPORTED_MODULE_11__.b.fields[0],handleMappingChange:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("Select a Persona Field")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_4__.a,props)},{notes:{markdown:_profileMapped_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("Autocomplete Profile Field not mapped no matching persona field",function(){Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _autoCompleteProfileFieldNotMappedNoMatch_test__WEBPACK_IMPORTED_MODULE_8__.a});var props={personas:_constants__WEBPACK_IMPORTED_MODULE_11__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_11__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_11__.e,field:_constants__WEBPACK_IMPORTED_MODULE_11__.e.fields[1],handleMappingChange:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("Select a Persona Field")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_4__.a,props)},{notes:{markdown:_profileNotMappedNoDefaults_md__WEBPACK_IMPORTED_MODULE_5__.a}}).add("Autocomplete Profile Field not mapped but has matching persona value",function(){Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _autoCompleteProfileFieldNotMappedHasMatch_test__WEBPACK_IMPORTED_MODULE_9__.a});var props={personas:_constants__WEBPACK_IMPORTED_MODULE_11__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_11__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_11__.d,field:_constants__WEBPACK_IMPORTED_MODULE_11__.d.fields[0],handleMappingChange:Object(_storybook_addon_actions__WEBPACK_IMPORTED_MODULE_2__.action)("Select a Persona Field")};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_4__.a,props)},{notes:{markdown:_profileNotMappedHasDefaults_md__WEBPACK_IMPORTED_MODULE_6__.a}})}.call(this,__webpack_require__(74)(module))},1124:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),_fieldMapper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(112),_fieldMapper_test__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(578),_constants__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(2);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Profile/FieldMapper",module).add("Renders with a mapped profile field and personas",function(){Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_2__.specs)(function(){return _fieldMapper_test__WEBPACK_IMPORTED_MODULE_4__.a});var props={field:_constants__WEBPACK_IMPORTED_MODULE_5__.c.fields[0],profile:_constants__WEBPACK_IMPORTED_MODULE_5__.c,personas:_constants__WEBPACK_IMPORTED_MODULE_5__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_5__.g[0]};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fieldMapper__WEBPACK_IMPORTED_MODULE_3__.a,props)}).add("Populates an unmapped Profile with data field, persona field and field name field if a match is found in any persona",function(){var props={field:_constants__WEBPACK_IMPORTED_MODULE_5__.d.fields[0],profile:_constants__WEBPACK_IMPORTED_MODULE_5__.d,personas:_constants__WEBPACK_IMPORTED_MODULE_5__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_5__.g[0]};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fieldMapper__WEBPACK_IMPORTED_MODULE_3__.a,props)}).add("Sets the persona field to Default and field name to the field if a match is not found in any persona",function(){var props={field:_constants__WEBPACK_IMPORTED_MODULE_5__.e.fields[0],profile:_constants__WEBPACK_IMPORTED_MODULE_5__.e,personas:_constants__WEBPACK_IMPORTED_MODULE_5__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_5__.g[0]};return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fieldMapper__WEBPACK_IMPORTED_MODULE_3__.a,props)})}.call(this,__webpack_require__(74)(module))},1125:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(22),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(113),_profile__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(52),_profileNotMappedNoDefaults_md__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(250),_profileNotMappedNoDefaultsManualMap_md__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(579),_profileNotMappedHasDefaults_md__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(251),_profileMapped_md__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(252),_profileFaultyMapping_md__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(580),_profileNotMappedNoMatch_test__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(581),_profileNotMappedHasMatch_test__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(582),_profileMapped_test__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(583),_constants__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2),mockFn=jest.fn(),mockPromise=jest.fn(function(){return Promise.reject("Storybook mock function")});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Profile",module).add("Not mapped no defaults",function(){var props;return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _profileNotMappedNoMatch_test__WEBPACK_IMPORTED_MODULE_11__.a}),props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_14__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_14__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_14__.f,save:jest.fn(function(){return Promise.resolve("")}),getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_5__.b,props))},{notes:{markdown:_profileNotMappedNoDefaults_md__WEBPACK_IMPORTED_MODULE_6__.a}}).add("Not mapped no defaults manual mapping",function(){var props;return props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_14__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_14__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_14__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_5__.b,props))},{notes:{markdown:_profileNotMappedNoDefaultsManualMap_md__WEBPACK_IMPORTED_MODULE_7__.a}}).add("Not mapped has matching defaults",Object(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_4__.withNotes)(_profileNotMappedHasDefaults_md__WEBPACK_IMPORTED_MODULE_8__.a)(function(){var props;return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _profileNotMappedHasMatch_test__WEBPACK_IMPORTED_MODULE_12__.a}),props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_14__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_14__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_14__.d,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_5__.b,props))})).add("Mapped to Persona info",Object(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_4__.withNotes)(_profileMapped_md__WEBPACK_IMPORTED_MODULE_9__.a)(function(){var props;return Object(storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_3__.specs)(function(){return _profileMapped_test__WEBPACK_IMPORTED_MODULE_13__.a}),props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_14__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_14__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_14__.c,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_5__.b,props))})).add("Faulty mapping",Object(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_4__.withNotes)(_profileFaultyMapping_md__WEBPACK_IMPORTED_MODULE_10__.a)(function(){var props;return props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_14__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_14__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_14__.a,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_5__.b,props))}))}.call(this,__webpack_require__(74)(module))},1126:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_storybook_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(30),react_router_dom__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20),_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(113),_profiles__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(248),_listProfiles_md__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(584),_constants__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(2),mockPromise=jest.fn(function(){return Promise.reject("")});Object(_storybook_react__WEBPACK_IMPORTED_MODULE_1__.storiesOf)("Profile",module).add("List of Profiles",Object(_storybook_addon_notes__WEBPACK_IMPORTED_MODULE_3__.withNotes)(_listProfiles_md__WEBPACK_IMPORTED_MODULE_5__.a)(function(){var props;return props={profiles:[_constants__WEBPACK_IMPORTED_MODULE_6__.c,_constants__WEBPACK_IMPORTED_MODULE_6__.f,_constants__WEBPACK_IMPORTED_MODULE_6__.e],getProfiles:mockPromise},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_2__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profiles__WEBPACK_IMPORTED_MODULE_4__.a,props))}))}.call(this,__webpack_require__(74)(module))},143:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),_withRoot__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(47),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(20),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(105),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(60),_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(1128),_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(1131),_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1130),_material_ui_core_CardMedia__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(1129),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(14);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var LoginForm=function(_React$Component){function LoginForm(props){var _this;return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,LoginForm),(_this=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(LoginForm).call(this,props))).handleSubmit=function(){_this.props.login(_this.state.login),_this.props.history.push("/")},_this.state={login:{email:"",password:""}},_this}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(LoginForm,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(LoginForm,[{key:"updateEmail",value:function updateEmail(email){this.setState({login:_objectSpread({},this.state.login,{email:email})})}},{key:"updatePassword",value:function updatePassword(password){this.setState({login:_objectSpread({},this.state.login,{password:password})})}},{key:"render",value:function render(){var _this2=this,classes=this.props.classes;return react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_Card__WEBPACK_IMPORTED_MODULE_13__.a,{className:classes.card},react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_CardMedia__WEBPACK_IMPORTED_MODULE_16__.a,{component:"img",alt:"Holo Logo",height:"240",image:"holo-dots.png",title:"Holo Logo"}),react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_CardContent__WEBPACK_IMPORTED_MODULE_15__.a,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{gutterBottom:!0,variant:"h5",component:"h2"},"Generate Your Holo Keys"),react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_17__.a,{variant:"body2",color:"textSecondary",component:"p"},"Welcome to the Agent Centric Web where you are in control of your personal data. Use the same email password combination to access all of your Holo Apps and keep your personal data safe and private."),react__WEBPACK_IMPORTED_MODULE_6__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_12__.a,{name:"email",value:this.state.login.email,onChange:function onChange(e){return _this2.updateEmail(e.target.value)},label:"Email"}),react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_12__.a,{name:"password",value:this.state.login.password,onChange:function onChange(e){return _this2.updatePassword(e.target.value)},label:"Password"}))),react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_CardActions__WEBPACK_IMPORTED_MODULE_14__.a,null,react__WEBPACK_IMPORTED_MODULE_6__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_11__.a,{name:"submit",onClick:function onClick(){return _this2.handleSubmit()},color:"primary"},"Log In"))))}}]),LoginForm}(react__WEBPACK_IMPORTED_MODULE_6__.Component);__webpack_exports__.a=Object(_withRoot__WEBPACK_IMPORTED_MODULE_7__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__.a)(function styles(_ref){var palette=_ref.palette;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__.a)({root:{display:"flex",flexDirection:"column",backgroundColor:palette.background.default,color:palette.primary.main}})})(Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.c)(LoginForm)))},146:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),react_router_dom__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(20),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(78),_material_ui_core_List__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(588),_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(347),_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(1132),_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(589),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(14),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(105),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(77),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_16__),_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(246),_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_17__),_withRoot__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(47),Personas=function(_React$Component){function Personas(){return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Personas),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Personas).apply(this,arguments))}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Personas,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Personas,[{key:"componentDidMount",value:function componentDidMount(){console.log("get personas"),this.props.getPersonas()}},{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,personas=_this$props.personas;return react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_9__.a,{className:classes.paper},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"h4"},"Personas"),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"body1",gutterBottom:!0},"Look after your personal information here, click on a Persona to update or click Add Persona to create a new one."),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_List__WEBPACK_IMPORTED_MODULE_10__.a,{id:"personas",component:"nav"},personas.map(function(persona,index){return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.b,{key:index,render:function render(_ref2){var history=_ref2.history;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_ListItem__WEBPACK_IMPORTED_MODULE_11__.a,{key:index,id:persona.hash,button:!0,onClick:function onClick(){history.push("/persona/".concat(persona.name))}},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_ListItemIcon__WEBPACK_IMPORTED_MODULE_12__.a,null,react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_16___default.a,null)),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_ListItemText__WEBPACK_IMPORTED_MODULE_13__.a,{primary:persona.name}))}})})),react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.b,{render:function render(_ref3){var history=_ref3.history;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_15__.a,{name:"addPersona",color:"primary",onClick:function onClick(){history.push("/persona/new")}},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_17___default.a,null),"Add Persona")}})))}}]),Personas}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=Object(_withRoot__WEBPACK_IMPORTED_MODULE_18__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__.a)(function styles(_ref){var spacing=_ref.spacing,palette=_ref.palette;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__.a)({root:{width:"100%",backgroundColor:palette.background.paper},paper:{padding:spacing(1)}})})(Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__.c)(Personas)))},2:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"g",function(){return personas}),__webpack_require__.d(__webpack_exports__,"b",function(){return exampleProfile}),__webpack_require__.d(__webpack_exports__,"a",function(){return exampleFaultyProfile}),__webpack_require__.d(__webpack_exports__,"d",function(){return exampleProfileNotMapped}),__webpack_require__.d(__webpack_exports__,"e",function(){return exampleProfileNotMappedNoDefaults}),__webpack_require__.d(__webpack_exports__,"f",function(){return exampleProfileNotMappedNoDefaultsManualMap}),__webpack_require__.d(__webpack_exports__,"c",function(){return exampleProfileMappedCorrectly});var _types_profile__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),personas=[{hash:"QmZqtKMs4pg9veqv3p4Sxzkgv2rdR7XoSn2TrLtXXXXX",name:"Default",fields:[{name:"handle",data:"@philt3r"},{name:"first_name",data:"Phil"},{name:"last_name",data:"Beadle"}]},{hash:"QmZqtKMs4pg9veqv3p4Sxzkgv2rdR7XoSn2TrLtAPLPSL7",name:"Personal",fields:[{name:"first_name",data:"Phil"},{name:"last_name",data:"Beadle"},{name:"address",data:"123 Holochain Road"},{name:"suburb",data:"Burwood"},{name:"city",data:"Melbourne"}]},{hash:"QmYQLnffCXXrYVdmFqKhryV4XBULunhGNoRzvrywyJen5C",name:"Work",fields:[{name:"first_name",data:"Philip"},{name:"last_name",data:"Beadle"},{name:"role",data:"Engineer"},{name:"location",data:"Melbourne"}]},{hash:"QmbzbwpLA8HjZCFqkPQE2TAEnugUPYz14W9Ux1hh8882Nr",name:"Friends",fields:[{name:"nick_name",data:"@philt3r"},{name:"hobby",data:"DJ"}]}],exampleProfile={name:"Holo-Chat",hash:"QQQ",expiry:10,sourceDna:"DNAXYZ",fields:[{name:"handle",displayName:"Handle",required:!0,description:"How other users will see you",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"},mapping:{personaAddress:"QmbzbwpLA8HjZCFqkPQE2TAEnugUPYz14W9Ux1hh8882Nr",personaFieldName:"nick_name"}},{name:"first_name",displayName:"First Name",required:!1,description:"Your actual first name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"}},{name:"last_name",displayName:"Last Name",required:!1,description:"Your actual last name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"}}]},exampleFaultyProfile={name:"Holo-Chat",hash:"QQQ",expiry:10,sourceDna:"DNAXYZ2",fields:[{name:"handle",displayName:"Handle",required:!0,description:"How other users will see you",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"},mapping:{personaAddress:"doiesnotexist",personaFieldName:"nick_name"}},{name:"first_name",displayName:"First Name",required:!1,description:"Your actual first name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"},mapping:{personaAddress:"QmbzbwpLA8HjZCFqkPQE2TAEnugUPYz14W9Ux1hh8882Nr",personaFieldName:"doesnotexist"}},{name:"last_name",displayName:"Last Name",required:!1,description:"Your actual last name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"}}]},exampleProfileNotMapped={name:"Holo-Chat",hash:"QQQ",expiry:10,sourceDna:"DNAXYZ",fields:[{name:"handle",displayName:"Handle",required:!0,description:"How other users will see you",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"}},{name:"first_name",displayName:"First Name",required:!1,description:"Your actual first name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"}},{name:"last_name",displayName:"Last Name",required:!1,description:"Your actual last name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"}}]},exampleProfileNotMappedNoDefaults={name:"Holo-Chat",hash:"QQQ",expiry:10,sourceDna:"DNAXYZ",fields:[{name:"genre",displayName:"Genre",required:!0,description:"Your favourite music genre",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"}},{name:"no_default",displayName:"No Default Value",required:!1,description:"No default persona value",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"}}]},exampleProfileNotMappedNoDefaultsManualMap={name:"Errand",hash:"QQQ",expiry:10,sourceDna:"DNAXYZErrand",fields:[{name:"locale",displayName:"Locale",required:!0,description:"Your preferred language",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"}},{name:"no_default",displayName:"No Default Value",required:!1,description:"No default persona value",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"}}]},exampleProfileMappedCorrectly={name:"Holo-Git",hash:"QQQ",expiry:10,sourceDna:"DNAXYZ123",fields:[{name:"handle",displayName:"Handle",required:!0,description:"How other users will see you",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"},mapping:{personaAddress:"QmbzbwpLA8HjZCFqkPQE2TAEnugUPYz14W9Ux1hh8882Nr",personaFieldName:"nick_name"}},{name:"first_name",displayName:"First Name",required:!1,description:"Your actual first name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.DISPLAY,schema:{type:"string"},mapping:{personaAddress:"QmZqtKMs4pg9veqv3p4Sxzkgv2rdR7XoSn2TrLtAPLPSL7",personaFieldName:"first_name"}},{name:"last_name",displayName:"Last Name",required:!1,description:"Your actual last name shared with contacts",usage:_types_profile__WEBPACK_IMPORTED_MODULE_0__.a.STORE,schema:{type:"string"},mapping:{personaAddress:"QmZqtKMs4pg9veqv3p4Sxzkgv2rdR7XoSn2TrLtAPLPSL7",personaFieldName:"last_name"}}]}},245:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Login});var _holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),Login=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","login","login")},248:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(6),_withRoot__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(47),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(14),_material_ui_core__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(588),_material_ui_core__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(347),_material_ui_core__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(589),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(78),Profiles=function(_React$Component){function Profiles(){return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Profiles),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Profiles).apply(this,arguments))}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Profiles,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Profiles,[{key:"componentDidMount",value:function componentDidMount(){this.props.getProfiles({}).catch(function(reason){console.log(JSON.stringify(reason))})}},{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,profiles=_this$props.profiles;return react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_14__.a,{className:classes.paper},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10__.a,{variant:"h4"},"Profiles"),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_10__.a,{variant:"body1",gutterBottom:!0},"Each time an app asks for Profile Information it gets stored here so you can see exactly what your information is being used for."),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_11__.a,null,profiles.map(function(profile,index){return react__WEBPACK_IMPORTED_MODULE_5__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.b,{key:index,render:function render(_ref2){var history=_ref2.history;return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_12__.a,{button:!0,onClick:function onClick(){history.push("/profile/".concat(profile.sourceDna))}},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core__WEBPACK_IMPORTED_MODULE_13__.a,{primary:profile.name}))}})}))))}}]),Profiles}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.a=Object(_withRoot__WEBPACK_IMPORTED_MODULE_9__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__.a)(function styles(_ref){var spacing=_ref.spacing;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__.a)({root:{textAlign:"left",paddingTop:spacing(1)},paper:{padding:spacing(1)}})})(Profiles))},250:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='** Not Mapped No Matching Defaults **\n\nWhen a profile request loads it will try to find matching fields in any personas you have. In the case where the field cannot be found in any persona the value is left empty and the new information will be added to the Default persona with the profile field name.\n\nExample: The profile is requesting your favourite Genre.\nYou can see there is a field called "Genre", and if you enter say "Techno" that field and info will be added to the Default persona with a new field "genre".\n\n** Power User Tip **\nClick the Persona icon to the right of the field and you can modify the Persona this field is added to including adding a new one and change the name of the field. The field name auto complete uses a standard set of field names so we can encourage interoperability of profile info across hApps.\n'},251:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='** Not Mapped Has Matching Defaults **\n\nWhen a profile request loads it will try to find matching fields in any personas you have. If a match is found the mapping is updated and the value is shown in the profile form.\n\nExample: Profile is asking for First name\nSince first name is already in my default persona this new profile will be automatically mapped to the "First Name" field so I don\'t have to do anything except check and save my new profile for this hApp.\n'},252:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** Mapped Profile **\n\nAt anytime you can check on all of the profiles that any hApp has asked you for by clicking the Profile name in the Profiles list. When you do this the form will be populated with the mapped info you entered.\n"},253:function(module,__webpack_exports__,__webpack_require__){"use strict";var classCallCheck=__webpack_require__(36),createClass=__webpack_require__(27),possibleConstructorReturn=__webpack_require__(43),getPrototypeOf=__webpack_require__(44),inherits=__webpack_require__(46),react=__webpack_require__(0),createStyles=__webpack_require__(128),withStyles=__webpack_require__(6),withRoot=__webpack_require__(47),Paper=__webpack_require__(78),Typography=__webpack_require__(14),Button=__webpack_require__(105),Card=__webpack_require__(1128),CardHeader=__webpack_require__(1194),CardActions=__webpack_require__(1131),Autorenew=__webpack_require__(1195),DeleteForever=__webpack_require__(1196);var deepKeyDetail=Object(withRoot.a)(Object(withStyles.a)(function styles(){return Object(createStyles.a)({card:{minWidth:300},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},title:{fontSize:8,marginTop:10}})})(function DeepKeyDetail(props){var currentKey=props.currentKey,classes=props.classes,keyType=props.keyType,address=props.address,updateKey=props.updateKey,makeZomeCall=function makeZomeCall(action,params){(0,props[action])(params).catch(function(reason){console.log("HC ZOMECALL ERROR = action, result : ",action,JSON.stringify(reason))})};return react.createElement(Card.a,{className:classes.card},react.createElement(CardHeader.a,{title:"".concat(keyType," - Enum"),titleTypographyProps:{variant:"h6"},subheader:"".concat(address),subheaderTypographyProps:{variant:"body2"}}),react.createElement("hr",{style:{margin:"5px auto",width:"95%"}}),react.createElement(CardActions.a,{className:classes.actions},react.createElement(Button.a,{size:"small",color:"primary",onClick:function updateCurrentKey(){"revocationKey"===keyType?makeZomeCall("updateRevocationRules",{revocationKey:address,signedOldRevocationKey:currentKey.priorRevocationSelfSig}):"authorizationKey"===keyType?makeZomeCall("setAuthorizer",{authorizationKeyPath:1,signedAuthKey:"how_do_we_determine_this????"}):(updateKey({oldKey:address,signedOldKey:"IS_THIS_THE_REV_KEY_Signature_????",context:currentKey.context}),makeZomeCall("updateKey",{oldKey:address,signedOldKey:"IS_THIS_THE_REV_KEY_Signature_????",context:currentKey.context}))}},react.createElement(Autorenew.a,null),"Replace"),react.createElement(Button.a,{size:"small",color:"primary",onClick:function deleteCurrentKey(){"revocationKey"===keyType?console.log("Trying to delete a revocation key. This is not possible. Please update/replace key instead."):"authorizationKey"===keyType?console.log("Trying to delete a authorization key. This is not possible. Please update/replace key instead."):makeZomeCall("deleteKey",{oldKey:address,signedOldKey:"IS_THIS_THE_REV_KEY_Signature_????"})}},react.createElement(DeleteForever.a,null),"Delete")))})),deepKeyOverview_DeepKeyOverview=function(_React$Component){function DeepKeyOverview(){return Object(classCallCheck.a)(this,DeepKeyOverview),Object(possibleConstructorReturn.a)(this,Object(getPrototypeOf.a)(DeepKeyOverview).apply(this,arguments))}return Object(inherits.a)(DeepKeyOverview,_React$Component),Object(createClass.a)(DeepKeyOverview,[{key:"componentDidMount",value:function componentDidMount(){this.props.fetchRevocationRules({}).catch(function(reason){console.log("fetchRevocationRules ERROR: ",JSON.stringify(reason))}),this.props.fetchAuthorizer({}).catch(function(reason){console.log("fetchAuthorizer ERROR: ",JSON.stringify(reason))}),this.props.fetchIsInitialized({}).catch(function(reason){console.log("fetchIsInitialized ERROR: ",JSON.stringify(reason))}),this.props.fetchAllKeys({}).catch(function(reason){console.log("fetchAllKeys ERROR: ",JSON.stringify(reason))})}},{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,revocationRuleSet=_this$props.revocationRuleSet,isInitialized=_this$props.isInitialized,allKeys=_this$props.allKeys;return react.createElement("div",{className:classes.root},react.createElement(Paper.a,{className:classes.paper},react.createElement(Typography.a,{variant:"h4"},"DeepKey"),react.createElement(Typography.a,{variant:"body1",gutterBottom:!0},"All DeepKey Information is stored here, so you can keep track of your device seeds/keys and know exactly which devices are secured."),react.createElement("hr",null),isInitialized&&revocationRuleSet&&allKeys?react.createElement("div",null,react.createElement(Typography.a,{variant:"h5",gutterBottom:!0},"Available Keys"),react.createElement(deepKeyDetail,{key:0,address:revocationRuleSet.revocationKey,keyType:"revocationKey"}),allKeys.map(function(key,index){return react.createElement(deepKeyDetail,{key:index+1,address:key.address,keyType:key.keyType})})):isInitialized&&revocationRuleSet&&!allKeys?react.createElement(Typography.a,{variant:"subtitle1",gutterBottom:!0},"No Keys Currently Available"):isInitialized?react.createElement(Typography.a,{variant:"subtitle1",gutterBottom:!0},"DeepKey is Initialized"):isInitialized&&revocationRuleSet?react.createElement("div",null,react.createElement(Typography.a,{variant:"subtitle1",gutterBottom:!0},"Revocation Key"),react.createElement(deepKeyDetail,{address:revocationRuleSet.revocationKey,keyType:"revocationKey"})):react.createElement("main",null,react.createElement(Typography.a,{variant:"subtitle1",gutterBottom:!0},"Warning: Your DeepKey is Not Initialized."),react.createElement(Typography.a,{variant:"subtitle2",gutterBottom:!0},"Please ensure your conductor is correctly configured with DeepKey and running."))))}}]),DeepKeyOverview}(react.Component);__webpack_exports__.a=Object(withRoot.a)(Object(withStyles.a)(function styles(_ref){var spacing=_ref.spacing;return Object(createStyles.a)({root:{textAlign:"left",paddingTop:spacing(1)},paper:{padding:spacing(1)}})})(deepKeyOverview_DeepKeyOverview))},254:function(module,__webpack_exports__,__webpack_require__){"use strict";var KeyType;__webpack_require__.d(__webpack_exports__,"a",function(){return KeyType}),function(KeyType){KeyType[KeyType.AppUI=0]="AppUI",KeyType[KeyType.AppSig=1]="AppSig",KeyType[KeyType.AppEnc=2]="AppEnc"}(KeyType||(KeyType={}))},28:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"c",function(){return CreatePersona}),__webpack_require__.d(__webpack_exports__,"i",function(){return UpdatePersona}),__webpack_require__.d(__webpack_exports__,"d",function(){return DeletePersona}),__webpack_require__.d(__webpack_exports__,"e",function(){return GetPersonas}),__webpack_require__.d(__webpack_exports__,"a",function(){return AddField}),__webpack_require__.d(__webpack_exports__,"f",function(){return GetProfiles}),__webpack_require__.d(__webpack_exports__,"b",function(){return CreateMapping}),__webpack_require__.d(__webpack_exports__,"g",function(){return SetCurrentPersona}),__webpack_require__.d(__webpack_exports__,"h",function(){return SetCurrentProfile});var _holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),typesafe_actions__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(51),CreatePersona=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","personas","create_persona"),UpdatePersona=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","personas","update_persona"),DeletePersona=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","personas","delete_persona"),GetPersonas=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","personas","get_personas"),AddField=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","personas","add_field"),GetProfiles=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","profiles","get_profiles"),CreateMapping=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("personas-profiles","profiles","create_mapping"),SetCurrentPersona=Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.createAction)("holo-vault/SET_CURRENT_PERSONA",function(resolve){return function(persona){return resolve(persona)}}),SetCurrentProfile=Object(typesafe_actions__WEBPACK_IMPORTED_MODULE_1__.createAction)("holo-vault/SET_CURRENT_PROFILE",function(resolve){return function(profile){return resolve(profile)}})},29:function(module,__webpack_exports__,__webpack_require__){"use strict";var UsageType;__webpack_require__.d(__webpack_exports__,"a",function(){return UsageType}),function(UsageType){UsageType.STORE="STORE",UsageType.DISPLAY="DISPLAY"}(UsageType||(UsageType={}))},45:function(module,__webpack_exports__,__webpack_require__){"use strict";var toConsumableArray=__webpack_require__(48),redux=__webpack_require__(62),main=__webpack_require__(23),lib=__webpack_require__(346),defineProperty=__webpack_require__(7),index_umd=__webpack_require__(51),actions=__webpack_require__(245);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}var initialState={loggedIn:!1};var reducer=Object(redux.c)({login:function loginReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(index_umd.getType)(actions.a.success):return console.log(action),function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}({},state,{loggedIn:action.payload});default:return state}}}),personas_profiles_actions=__webpack_require__(28);function reducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function reducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?reducer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):reducer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var reducer_initialState={profiles:[],currentProfile:void 0,personas:[],currentPersona:void 0};var personas_profiles_reducer=Object(redux.c)({profile:function vaultReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(index_umd.getType)(personas_profiles_actions.e.success):console.log(action);var personas=action.payload.map(function(elem){return reducer_objectSpread({},elem.entry,{hash:elem.address})}),currentPersona=personas.filter(function(persona){return"Default"===persona.name})[0]||personas[0]||void 0;return reducer_objectSpread({},state,{personas:personas,currentPersona:currentPersona});case Object(index_umd.getType)(personas_profiles_actions.f.success):return reducer_objectSpread({},state,{profiles:action.payload.map(function(profile){var fields=profile.fields.map(function(field){return reducer_objectSpread({},field,{mapping:field.mapping?field.mapping:void 0})});return reducer_objectSpread({},profile,{fields:fields})})});case Object(index_umd.getType)(personas_profiles_actions.g):return reducer_objectSpread({},state,{currentPersona:action.payload});case Object(index_umd.getType)(personas_profiles_actions.h):return reducer_objectSpread({},state,{currentProfile:action.payload});default:return state}}}),deepkey_actions=__webpack_require__(68);function deepkey_reducer_ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function deepkey_reducer_objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?deepkey_reducer_ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):deepkey_reducer_ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var deepkey_reducer_initialState={isInitialized:!1,revocationRuleSet:void 0,authorizerKeySet:void 0,allKeys:[]};var middleware,deepkey_reducer=Object(redux.c)({deepkey:function keyReducer(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:deepkey_reducer_initialState,action=arguments.length>1?arguments[1]:void 0;switch(action.type){case Object(index_umd.getType)(deepkey_actions.e.success):return console.log("Is DeepKey initialized ?? : ",action.payload),deepkey_reducer_objectSpread({},state,{isInitialized:action.payload});case Object(index_umd.getType)(deepkey_actions.d.success):return console.log("get GetrevocationRuleSet : ",action.payload),deepkey_reducer_objectSpread({},state,{revocationRuleSet:action.payload[0].entry});case Object(index_umd.getType)(deepkey_actions.c.success):return console.log("get Authorizer : ",action.payload),deepkey_reducer_objectSpread({},state,{AuthorizerKeySet:action.payload[0].entry});case Object(index_umd.getType)(deepkey_actions.b.success):return console.log("get all keys : ",action.payload),deepkey_reducer_objectSpread({},state,{allKeys:action.payload});default:return state}}}),REACT_APP_PERSONAS_WEBSOCKET_INTERFACE=Object({NODE_ENV:"production",NODE_PATH:"/nix/store/j4cydbiwg9m21nd5gjgawrid9lp4yg7l-nodejs-11.14.0/lib/node_modules:/nix/store/j4cydbiwg9m21nd5gjgawrid9lp4yg7l-nodejs-11.14.0/lib/node_modules",PUBLIC_URL:"."}).REACT_APP_PERSONAS_WEBSOCKET_INTERFACE,rootReducer=Object(redux.c)({login:reducer,personasProfiles:personas_profiles_reducer,deepkey:deepkey_reducer});middleware=REACT_APP_PERSONAS_WEBSOCKET_INTERFACE?[Object(main.holochainMiddleware)(Object(lib.connect)({url:REACT_APP_PERSONAS_WEBSOCKET_INTERFACE}))]:[Object(main.holochainMiddleware)(Object(lib.connect)())];var composeEnhancers=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||redux.d;__webpack_exports__.a=function CreateStore(){return Object(redux.e)(rootReducer,composeEnhancers(redux.a.apply(void 0,Object(toConsumableArray.a)(middleware))))}},47:function(module,__webpack_exports__,__webpack_require__){"use strict";var react=__webpack_require__(0),react_default=__webpack_require__.n(react),CssBaseline=__webpack_require__(1189),ThemeProvider=__webpack_require__(1188),red=__webpack_require__(555),red_default=__webpack_require__.n(red),createMuiTheme=__webpack_require__(585),src_theme=Object(createMuiTheme.a)({palette:{primary:{main:"#556cd6"},secondary:{main:"#19857b"},error:{main:red_default.a.A400},background:{default:"#fff"}}});__webpack_exports__.a=function withRoot(Component){return function WithRoot(props){return react_default.a.createElement(ThemeProvider.a,{theme:src_theme},react_default.a.createElement(CssBaseline.a,null),react_default.a.createElement(Component,props))}}},52:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Profile});var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(6),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(78),_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(590),react_router_dom__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(20),_withRoot__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(47),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(105),_fieldMapper__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(112),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(14),_material_ui_core___WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(1142),_material_ui_core___WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(60),_material_ui_core___WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(179),Profile=function(_React$Component){function Profile(props){var _this;return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Profile),(_this=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Profile).call(this,props))).handleMappingChange=function(updatedField,value){if(console.log("updatedField"),void 0!==updatedField.mapping){var _personas=_this.props.personas,personaAddress=updatedField.mapping.personaAddress,personaFieldName=updatedField.mapping.personaFieldName,selectedPersonas=_personas.filter(function(persona){return persona.hash===personaAddress});if(1===selectedPersonas.length)0===selectedPersonas[0].fields.filter(function(field){return field.name===personaFieldName}).length&&(selectedPersonas[0].fields.push({name:personaFieldName,data:value}),_this.setState({personas:_personas}))}_this.state.profile.fields.filter(function(field){return field.name===updatedField.name})[0]=updatedField,_this.setState({profile:_this.state.profile})},_this.handleSaveProfile=function(){_this.props.save(_this.state.profile,_this.props.personas).then(_this.props.getProfiles).then(function(){"/profiles"===_this.props.returnUrl?_this.props.history.push(_this.props.returnUrl):window.location.replace(decodeURIComponent(_this.props.returnUrl))}).catch(function(err){return console.log(err)})},_this.handleChangeSelectedPersona=function(event){var personaAddress=event.target.value,selectedPersona=_this.props.personas.filter(function(persona){return persona.hash===personaAddress})[0];_this.props.setCurrentPersona(selectedPersona)},_this.state={profile:props.profile,personas:props.personas},_this}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__.a)(Profile,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Profile,[{key:"componentDidMount",value:function componentDidMount(){var _this2=this;this.props.getPersonas({}).then(function(){return _this2.props.getProfiles({})}).catch(function(err){return console.log(JSON.stringify(err))})}},{key:"render",value:function render(){var _this3=this;if(!this.props.selectedPersona||!this.props.profile)return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_15__.a,{container:!0,justify:"center"},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_9__.a,null));var _this$props=this.props,profile=_this$props.profile,classes=_this$props.classes;return react__WEBPACK_IMPORTED_MODULE_5__.createElement("div",{className:classes.container},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__.a,{className:classes.paper},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"h4",component:"h2"},"Profile for ",profile.name),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{component:"p"},"Welcome to the Agent Centric Web where you are in control of your personal data."),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__.a,{className:classes.selectContainer},react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_16__.a,{name:"PersonasSelect",className:classes.select,select:!0,value:this.props.selectedPersona.hash,onChange:this.handleChangeSelectedPersona,label:"Selected Persona"},this.props.personas.map(function(persona){return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_17__.a,{key:persona.hash,value:persona.hash},persona.name)}))),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_8__.a,{className:classes.form},this.state.profile.fields.map(function(field,i){return react__WEBPACK_IMPORTED_MODULE_5__.createElement(_fieldMapper__WEBPACK_IMPORTED_MODULE_13__.a,{key:i,personas:_this3.props.personas,selectedPersona:_this3.props.selectedPersona,profile:profile,field:field,mapSaved:_this3.props.profile.fields[i].mapping,handleMappingChange:_this3.handleMappingChange})}),react__WEBPACK_IMPORTED_MODULE_5__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_12__.a,{id:"Agree",onClick:this.handleSaveProfile,color:"primary"},"Save Profile"))))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){return prevState.profile?null:{profile:nextProps.profile}}}]),Profile}(react__WEBPACK_IMPORTED_MODULE_5__.Component);__webpack_exports__.b=Object(_withRoot__WEBPACK_IMPORTED_MODULE_11__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_7__.a)(function styles(_ref){var spacing=_ref.spacing;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_6__.a)({container:{flexGrow:1,position:"relative"},button:{marginRight:spacing(1),marginTop:spacing(1),marginLeft:25,marginBottom:25},selectContainer:{paddingTop:10,paddingBottom:10,paddingLeft:25,paddingRight:25,width:"100%",marginBottom:25},select:{width:"100%"},paper:{padding:spacing(1)}})})(Object(react_router_dom__WEBPACK_IMPORTED_MODULE_10__.c)(Profile)))},563:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='# Holochain Identity Manager\n\nYou\'ve heard the phrase, "If you can\'t identify the product, you are the product!", similar to the old poker saying "If you don\'t know who the sucker is, it\'s you". All of the **free** internet services we use are subsidised by the money the site owners make selling your data to anyone who will buy it. As an example of how far your data gets shared without you being aware take a look at this interactive graphic on what Payal does with your data - https://rebecca-ricks.com/paypal-data/. Now have a think about the number of websites you have filled out your name, address and other details on and how painful it is to update all of those sites when your address changes. To make this easier sites like Google, Facebook and Microsoft allow you log in on other sites using the details you entered in theirs. This may be convenient but now you are allowing them to know exactly whaqt you do on the internet and they sell that too. Watch this video about not being a [Marketing Meatbag](!https://www.youtube.com/watch?v=X72tHBtiZt4&t=1s)\n\nAt Holochain we are building tools to give you back agency over your data. The first part of that is making it simple to manage your profiles over multiple Holochain Apps (hApps) and keep your data to yourself. Holochain Identity Manager gives you back control of your keys, control of your devices and ownership of your personal information.\n\nThis collection of tools is designed to perform as a complete foundation for distributed applications enable a fully distributed, peer-to-peer identity. These tools are integrated into an open-source, cryptographic, data integrity framework called Holochain, without promoting the Holochain Foundation into any elevated status of authority as an identity provider. Instead, the tools are specifically designed to enable the emergence of an ecosystem of providers leveraging the tools as a foundation for their services.\n\nThe tools are comprised of::\n1. **DPKI** - Decentralized Public Key Infrastructure to manage registration, replacement, and revocation of the cryptographic keys used for network addresses, signing, and encryption.\n2. **A Personal Data Vault** for people to be the authoritative source of their identifying data, which they gives them one place to update changes, as well as track and revoke sharing data with any apps accessing it.\n3. **Signed Claims and Assertions** enable validation of credentials provided by third party peers or authorities with selective exposure of the data elements they contain.\n\nFrom these elements, we believe people can create and manage secure decentralized identity that can integrate with existing identity systems, but is not wholly dependent on them. Holochain Identity Manager is the Personal Data Vault called Personas & Profiles plus an implementation of DPKI called DeepKey.\n\n## Introduction to DeepKey\n\nTo deliver on the basics of Distributed Public Key Infrastructure, we need a way to generate keys of various types (revocation, identity, encryption, signing) from seeds, and we need to be able to generate such seeds from primary seeds, so that a human agent can create related "device agents" provably under their control.\n\nAfter studying a number of uses cases, including initial sign-up, key revocation, etc, the central insight we came to was the need to create a Hierarchical Deterministic Key generation system, based on a Primary Seed, from which additional seeds can be generated which then are in turn used to actually generate many key-pairs. This allows us, by-convention, to use the first seed generated by the Primary seed as the seed for revocation keys, and subsequent seeds as seeds for keys of separate Holochain devices that can be proven to be under the control of the holder of Primary Seed.\n\n## Personas & Profiles\n\nThe personal data tools built on Holochain are designed to empower people with agency over their information.\n\nPersonas & Profiles is a personal data store that replicates across authorised devices on its own DNA.\nPersonas & Profiles puts people in control of how their information is used (Displayed or Stored by the hApp) and allows them to share the same information to many different hApps.\nThe Personas & Profiles hApp was built to achieve the following goals:\n- To keep personal data private and in control of the person whose information it is by storing it only on devices they are in control of or trust.\n    - A popular scenario would be the person has a mobile phone, a laptop and access to a HoloPort or 2 located in trusted locations. They may also choose to share to close family as well, which is partiucularly useful for medical records and insurance information.\n- It has to be more convenient to fill out forms than OAuth.\n    - Profile forms auto fill with matching information from previous profiles.\n    - Each field also has auto-complete along with the ability to manage Persona data.\n    - The person filling out the form can change all matching fields by selecting a pre-existing persona\n- It has to  be simple to manage profile data over multiple Holochain Apps (hApps).\n    - The data stored in a Profile is a mapping to the actual data stored as a Persona. Updating the Persona data such as Address is then reflected in every profile\n    - Every profile is stored locally so there is no need to visit multiple websites to make your information consistent.\n'},564:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** DeepKey Not Initialized, No RevocationRuleSet & No Keys **\n\nWhen the conductor starts DeepKey is bootstrapped and used to create a new Agent Key if needed. If this hasn't happened then DeepKey is not initialised has no RevocationRuleSet and thus no Keys.\nThis may indicate there is a conductor configuration or key derivation issue.\n"},565:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** DeepKey Initialized, has a RevocationRuleSet & No Keys **\n\nWhen the conductor starts DeepKey is bootstrapped and used to create a new Agent Key if needed. When this happens a the RevocationRuleSet is created. If no Keys are committed to the DHT this may indicate there is a conductor configuration or key derivation issue.\n"},566:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** DeepKey Initialized, has a RevocationRuleSet & Keys **\n\nWhen the conductor starts DeepKey is bootstrapped and used to create a new Agent Key if needed. When this happens a the RevocationRuleSet is created & the first set of keys is committed to the DHT when the conductor calls dpki_create_agent_key(agent_id).\n"},567:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="# Key Generation\nThe email and password are used by the Holo Key system to generate keys for the agent.\n"},568:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return loginTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_store__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(45),react_redux__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20),_login__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(143);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var store=Object(_store__WEBPACK_IMPORTED_MODULE_3__.a)(),loginTests=describe("Holo",function(){var props,mountedLogin,loginView=function loginView(){return mountedLogin||(mountedLogin=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_4__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_login__WEBPACK_IMPORTED_MODULE_6__.a,props))))),mountedLogin},mockFn=jest.fn();beforeEach(function(){mountedLogin=void 0}),it("Entering your login details and clicking 'Log In' sends your details to Holo",function(){props={title:"Login",login:mockFn};loginView().find('input[name="email"]').simulate("change",{target:{value:"philip.beadle@holo.host"}}),loginView().find('input[name="password"]').simulate("change",{target:{value:"aPa55word"}}),loginView().find('button[name="submit"]').simulate("click");var createdLogin=loginView().find("LoginForm").instance().state.login;expect(createdLogin).toEqual({email:"philip.beadle@holo.host",password:"aPa55word"}),expect(props.login).toBeCalled(),loginView().find('input[name="email"]').simulate("change",{target:{value:""}}),loginView().find('input[name="password"]').simulate("change",{target:{value:""}})})})},569:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a='**First Time Use**\nThe first time you that would like access to your personal information there will be no personas in the *Holo Vault*. You can add a new Persona and add as many fields to it as you like. Most people will probably have a *Personal*, *Work* and a *Friends* persona. With Personas you can use different versions of your name, nick names, info such as your Driver License etc.\n\n**Try it out**\nTo get to this form you clicked the **New Persona** button on the **Personas** screen. Now click the **Add Field** button and type in the name of the piece of info you are adding into the *Field Name* text box such as *firstName* and then type in your name into the *Field Value* text box.\nNow click the **Create Persona** button and check out the *Action Logger* tab to see the object that will get transformed from the form values into a new *Person* object\'\n\n```\n{\n    "name": "Personal",\n    "persona": [\n        {"firstName": "Phil"},\n        {"lastName": "Beadle"},\n        {"address": "123 Holochain Road"},\n        {"suburb": "Burwood"},\n        {"city": "Melbourne"}\n    ]\n}\n```\n'},570:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="**Existing Personas**\nWhen you are filling out a Profile for an app you can select information you have previously entered into *Holo Vault*. The previously entered infromation is stored as a **Persona**. Start typing the information into the field and the autocomplete will let you select the information from Persona you want to use. You can also enter new information that will be stored in a Persona with the name of the requesting app.\n\n**Try it out**\nType **P** into the *First Name* field and you will see all of the Personas that have a field that starts with *P*.  Select one of them. Now either select the other fields or add new data and click the Create Profile button. Click the Action Logger tab and open up the the 2 objects that are created and you can see what gets sent to Holochain. The top one is the new *Persona* object with your details and the second is the *Profile Mapping* object the requesting app gets access to. The requesting app then uses this mapping in future to request access to your personal data.\n"},571:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return newPersonaTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_persona__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91),enzyme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__),_store__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),store=Object(_store__WEBPACK_IMPORTED_MODULE_4__.a)();Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default.a});var newPersonaTests=describe("New Persona",function(){var props,mountedPersona,personaView=function personaView(){return mountedPersona||(mountedPersona=Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_5__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_persona__WEBPACK_IMPORTED_MODULE_1__.b,props))))),mountedPersona};beforeEach(function(){mountedPersona=void 0});var mockPromise=jest.fn(function(){return Promise.reject("")});it("Create a Persona by adding new fields and values, this will send a Persona to Holochain",function(){props={currentPersona:{name:"",hash:"",fields:[]},title:"New - Persona",personas:[],create:mockPromise,update:mockPromise,delete:mockPromise,getPersonas:mockPromise};personaView().find('input[name="personaName"]').simulate("change",{target:{value:"Personal"}}),personaView().find('button[name="addField"]').simulate("click"),personaView().find('input[name="fieldName0"]').simulate("change",{target:{value:"firstName"}}),personaView().find('input[name="fieldValue0"]').simulate("change",{target:{value:"Phil"}}),personaView().find('button[name="addField"]').simulate("click"),personaView().find('input[name="fieldName1"]').simulate("change",{target:{value:"lastName"}}),personaView().find('input[name="fieldValue1"]').simulate("change",{target:{value:"Beadle"}}),personaView().find('button[name="submitPersona"]').simulate("click");var createdPersona=personaView().find("Persona").instance().state.persona;expect(createdPersona).toEqual({hash:"",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"}]}),expect(props.create).toBeCalled()})})},572:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(process){__webpack_require__.d(__webpack_exports__,"a",function(){return editPersonaTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_persona__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(91),enzyme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__),_store__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(45),react_redux__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),react_router_dom__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(20),store=Object(_store__WEBPACK_IMPORTED_MODULE_4__.a)();Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default.a});var editPersonaTests=describe("Edit Existing Persona",function(){var props,mountedPersona,personaView=function personaView(){return mountedPersona||(mountedPersona=Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_redux__WEBPACK_IMPORTED_MODULE_5__.a,{store:store},react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_6__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_persona__WEBPACK_IMPORTED_MODULE_1__.b,props))))),mountedPersona};beforeEach(function(){mountedPersona=void 0});var mockFn=jest.fn(),mockPromise=jest.fn(function(){return Promise.reject("")});it("Edit a Persona by changing the name and adding new fields and values, this will send an updated Persona to Holochain",function(){props={currentPersona:{hash:"hash11111",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"}]},title:"Edit - Persona",personas:[],create:mockPromise,update:mockPromise,delete:mockFn,getPersonas:mockPromise};personaView().find('input[name="personaName"]').simulate("change",{target:{value:"Edited Persona Name"}}),personaView().find('input[name="fieldName0"]').simulate("change",{target:{value:"editfirstName"}}),personaView().find('input[name="fieldValue0"]').simulate("change",{target:{value:"Philip"}}),personaView().find('input[name="fieldName1"]').simulate("change",{target:{value:"editlastName"}}),personaView().find('input[name="fieldValue1"]').simulate("change",{target:{value:"Holo"}}),personaView().find('button[name="addField"]').simulate("click"),personaView().find('input[name="fieldName2"]').simulate("change",{target:{value:"extra"}}),personaView().find('input[name="fieldValue2"]').simulate("change",{target:{value:"row"}}),personaView().find('button[name="submitPersona"]').simulate("click");var editedPersona=personaView().find("Persona").instance().state.persona;expect(editedPersona).toEqual({hash:"hash11111",name:"Edited Persona Name",fields:[{name:"editfirstName",data:"Philip"},{name:"editlastName",data:"Holo"},{name:"extra",data:"row"}]}),expect(props.update).toBeCalled()}),it("Delete a Persona by clicking Delete, this will open a confirm dialog and then send a delete Persona to Holochain",function(done){props={currentPersona:{hash:"hash11111",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"}]},title:"Edit - Persona",personas:[],create:mockFn,update:mockFn,delete:mockPromise,getPersonas:mockPromise},personaView().find('button[name="deletePersona"]').simulate("click"),process.nextTick(function(){personaView().find('button[id="Agree"]').simulate("click"),expect(props.delete).toBeCalled(),done()})}),it("Check the state persona is set when props set persona",function(){var editPersona={hash:"hash11111",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"}]};props={currentPersona:editPersona,title:"Edit - Persona",personas:[],create:mockFn,update:mockFn,delete:mockFn,getPersonas:mockPromise};var newState=_persona__WEBPACK_IMPORTED_MODULE_1__.a.getDerivedStateFromProps(props,{});expect(newState.persona).toEqual(editPersona)}),it("Check getDerivedStateFromProps returns null when props dont set persona",function(){props={currentPersona:{hash:"hash11111",name:"Personal",fields:[{name:"firstName",data:"Phil"},{name:"lastName",data:"Beadle"}]},title:"Edit - Persona",personas:[],create:mockFn,update:mockFn,delete:mockFn,getPersonas:mockPromise};var newState=_persona__WEBPACK_IMPORTED_MODULE_1__.a.getDerivedStateFromProps(props,{persona:{}});expect(newState).toEqual(null)})})}).call(this,__webpack_require__(79))},573:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="**List of Personas**\nLook after your personal information here, click on a Persona to update or click Add Persona to create a new one.\n"},574:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return personaListTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_personas__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(146),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var personaListTests=describe("List Personas",function(){var props,mountedPdersonas,personasList=function personasList(){return mountedPdersonas||(mountedPdersonas=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_personas__WEBPACK_IMPORTED_MODULE_4__.a,props)))),mountedPdersonas};beforeEach(function(){mountedPdersonas=void 0});var mockPromise=jest.fn(function(){return Promise.reject("")});it("The list of Personas shows.",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,getPersonas:mockPromise},expect(personasList().find("Route").length).toEqual(5)}),it("Clicking a Persona links you to the persona details page",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,getPersonas:mockPromise},personasList().find("Route").first().simulate("click")})})},575:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return autoCompleteProfileFieldNotMappedNoMatchTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),enzyme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_material_ui_core___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(14);Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default.a});var autoCompleteProfileFieldNotMappedNoMatchTests=describe("Autocomplete Profile Field not mapped no matching persona field",function(){var props,mountedAutoCompleteProfileField,autoCompleteProfileField=function autoCompleteProfileField(){return mountedAutoCompleteProfileField||(mountedAutoCompleteProfileField=Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__.a,props))),mountedAutoCompleteProfileField};beforeEach(function(){mountedAutoCompleteProfileField=void 0});var mockFn=jest.fn();it("Display the Profile Field for an unmapped field with no default that stores your data in the hApp DHT",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.e,field:_constants__WEBPACK_IMPORTED_MODULE_4__.e.fields[0],handleMappingChange:mockFn},expect(autoCompleteProfileField().find(_material_ui_core___WEBPACK_IMPORTED_MODULE_5__.a).props().label).toEqual("Genre"),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Default - genre")})})},576:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return autoCompleteProfileFieldNotMappedHasMatchTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),enzyme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_material_ui_core___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(14);Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default.a});var autoCompleteProfileFieldNotMappedHasMatchTests=describe("Autocomplete Profile Field not mapped but has matching persona value",function(){var props,mountedAutoCompleteProfileField,autoCompleteProfileField=function autoCompleteProfileField(){return mountedAutoCompleteProfileField||(mountedAutoCompleteProfileField=Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__.a,props))),mountedAutoCompleteProfileField};beforeEach(function(){mountedAutoCompleteProfileField=void 0});var mockFn=jest.fn();it("Display the Profile Field for an unmapped field with no default that displays your data from your Vault",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.e,field:_constants__WEBPACK_IMPORTED_MODULE_4__.e.fields[1],handleMappingChange:mockFn},expect(autoCompleteProfileField().find(_material_ui_core___WEBPACK_IMPORTED_MODULE_5__.a).props().label).toEqual("No Default Value"),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Default - no_default")})})},577:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return autoCompleteProfileFieldMappedTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(67),enzyme__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3__),_constants__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),_material_ui_core___WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(60),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(14),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(179);Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_3___default.a});var autoCompleteProfileFieldMappedTests=describe("Autocomplete Profile Field mapped to Persona data",function(){var props,mountedAutoCompleteProfileField,autoCompleteProfileField=function autoCompleteProfileField(){return mountedAutoCompleteProfileField||(mountedAutoCompleteProfileField=Object(enzyme__WEBPACK_IMPORTED_MODULE_2__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_autoCompleteProfileField__WEBPACK_IMPORTED_MODULE_1__.a,props))),mountedAutoCompleteProfileField};beforeEach(function(){mountedAutoCompleteProfileField=void 0});var mockFn=jest.fn();it("Display the Profile Field for a mapped field that stores your data in the hApp DHT",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.b,field:_constants__WEBPACK_IMPORTED_MODULE_4__.b.fields[0],handleMappingChange:mockFn},expect(autoCompleteProfileField().find(_material_ui_core___WEBPACK_IMPORTED_MODULE_5__.a).props().label).toEqual("Handle"),expect(autoCompleteProfileField().find('input[name="name"]').props().value).toEqual("@philt3r"),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Friends - nick_name")}),it("Does not try to map the field if the Persona cannot be found",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.a,field:_constants__WEBPACK_IMPORTED_MODULE_4__.a.fields[0],handleMappingChange:mockFn},expect(autoCompleteProfileField().find(_material_ui_core___WEBPACK_IMPORTED_MODULE_5__.a).props().label).toEqual("Handle"),expect(autoCompleteProfileField().find('input[name="name"]').props().value).toEqual(""),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Default - handle")}),it("Does not try to map the field if the Persona field cannot be found",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.a,field:_constants__WEBPACK_IMPORTED_MODULE_4__.a.fields[1],handleMappingChange:mockFn},expect(autoCompleteProfileField().find(_material_ui_core___WEBPACK_IMPORTED_MODULE_5__.a).props().label).toEqual("First Name"),expect(autoCompleteProfileField().find('input[name="name"]').props().value).toEqual(""),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Default - first_name")}),it("Selecting a Persona value for an unmapped field sets the mapping",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.b,field:_constants__WEBPACK_IMPORTED_MODULE_4__.b.fields[1],handleMappingChange:mockFn},autoCompleteProfileField().find('input[name="name"]').simulate("change",{target:{value:"P"}}),autoCompleteProfileField().find('input[name="name"]').simulate("focus"),autoCompleteProfileField().find(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_7__.a).first().simulate("click"),autoCompleteProfileField().find('input[name="name"]').simulate("blur"),expect(props.handleMappingChange).toBeCalled(),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Default - first_name")}),it("Deleting all the text in the field shows no suggestions and sets the mapping back to default",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[1],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.e,field:_constants__WEBPACK_IMPORTED_MODULE_4__.e.fields[1],handleMappingChange:mockFn},autoCompleteProfileField().find('input[name="name"]').simulate("change",{target:{value:"P"}}),autoCompleteProfileField().find('input[name="name"]').simulate("focus"),autoCompleteProfileField().find('input[name="name"]').simulate("change",{target:{value:""}}),autoCompleteProfileField().find('input[name="name"]').simulate("focus");var suggestions=autoCompleteProfileField().find("AutoCompleteProfileField").instance().state.suggestions;expect(suggestions.length).toEqual(0),expect(autoCompleteProfileField().find(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_6__.a).text()).toEqual("Personal - no_default")}),it("Populates data field, persona field and field name field if a match is found in any persona",function(){props={personas:_constants__WEBPACK_IMPORTED_MODULE_4__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_4__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_4__.d,field:_constants__WEBPACK_IMPORTED_MODULE_4__.d.fields[1],handleMappingChange:mockFn},expect(autoCompleteProfileField().find('input[name="name"]').props().value).toEqual("Phil")})})},578:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return fieldMapperTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_fieldMapper__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(112),_types_profile__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(29),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(77),_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_6__);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var fieldMapperTests=describe("FieldMapper",function(){var props,mountedFieldMapper,fieldMapper=function fieldMapper(){return mountedFieldMapper||(mountedFieldMapper=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(_fieldMapper__WEBPACK_IMPORTED_MODULE_4__.a,props))),mountedFieldMapper};beforeEach(function(){mountedFieldMapper=void 0}),it("Clicking the Persona Icon opens the power user tools",function(){var selectedPersona=_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],field=_constants__WEBPACK_IMPORTED_MODULE_3__.b.fields[1];props={field:field,profile:_constants__WEBPACK_IMPORTED_MODULE_3__.b,personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:selectedPersona},fieldMapper().find(_material_ui_icons_Person__WEBPACK_IMPORTED_MODULE_6___default.a).simulate("click"),expect(fieldMapper().find("FieldMapper").instance().state.expansionPanelOpen).toEqual(!0)}),it("Does nothing if primary persona contains no fields with name equal to profileField.name",function(){props={field:{name:"not_a_match",displayName:"Not Match",required:!1,description:"A profileField with a weird name that wont match",usage:_types_profile__WEBPACK_IMPORTED_MODULE_5__.a.DISPLAY,schema:{type:"string"}},profile:_constants__WEBPACK_IMPORTED_MODULE_3__.b,personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0]},expect(fieldMapper().find("AutoCompleteProfileField").instance().state.value).toEqual("")}),it("Populates data field, persona field and field name field with mapped field",function(){var selectedPersona=_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],field=_constants__WEBPACK_IMPORTED_MODULE_3__.c.fields[0];props={field:field,profile:_constants__WEBPACK_IMPORTED_MODULE_3__.c,personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:selectedPersona},expect(fieldMapper().find('input[name="personaAutoText"]').props().value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[3].name),expect(fieldMapper().find('input[name="field"]').props().value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[3].fields[0].name),expect(fieldMapper().find("AutoCompleteProfileField").instance().state.value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[3].fields[0].data)}),it("Populates data field, persona field and field name field with matched data from a Persona when not mapped",function(){var selectedPersona=_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],field=_constants__WEBPACK_IMPORTED_MODULE_3__.d.fields[0];props={field:field,profile:_constants__WEBPACK_IMPORTED_MODULE_3__.d,personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:selectedPersona},expect(fieldMapper().find('input[name="personaAutoText"]').props().value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[0].name),expect(fieldMapper().find('input[name="field"]').props().value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[0].fields[0].name),expect(fieldMapper().find("AutoCompleteProfileField").instance().state.value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[0].fields[0].data)}),it("Populates data field, persona field and field name field with Default and propfile field name when no match",function(){var selectedPersona=_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],field=_constants__WEBPACK_IMPORTED_MODULE_3__.e.fields[0];props={field:field,profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:selectedPersona},expect(fieldMapper().find('input[name="personaAutoText"]').props().value).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.g[0].name),expect(fieldMapper().find('input[name="field"]').props().value).toEqual(field.name),expect(fieldMapper().find("AutoCompleteProfileField").instance().state.value).toEqual("")})})},579:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** Not Mapped No Matching Defaults Manual Map **\n\nWhen a profile form loads with no matches you can easily map any persona field by typing the first few letters and selecting. In this example I have matched my nick name to the Genre to show how its done.\n"},580:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a="** Faulty Mapped Profile **\n\nIf somehow your mapping gets corrupted (not really a case but we have defensively coded against it) the profile form will show empty fields for any faulty maps. Simply re enter your info to fix it.\nThe first two fields are corrupt and the last one has no mapping so was matched.\n"},581:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return profileNotMappedNoMatchTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_profile__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(105),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(179);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var profileNotMappedNoMatchTests=describe("Not mapped no defaults",function(){var props,mountedProfile,profileForm=function profileForm(){return mountedProfile||(mountedProfile=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_4__.b,props)))),mountedProfile};beforeEach(function(){mountedProfile=void 0});var mockFn=jest.fn(),mockPromise=jest.fn(function(){return Promise.reject("Profile test mockPromise")});it("A new Profile has an empty AutoCompleteProfileField for each field in the Profile request",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},expect(profileForm().find("AutoCompleteProfileField").length).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.e.fields.length),profileForm().find('input[name="name"]').map(function(field){expect(field.props().value).toEqual("")})}),it("Mapping or entering new info into a field updates the Profile state",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn};var profile=profileForm().find("Profile").instance().state.profile;expect(profile.fields[0].mapping).toEqual(void 0),profileForm().find('input[name="name"]').first().simulate("change",{target:{value:"@"}}),profileForm().find('input[name="name"]').first().simulate("focus"),profileForm().find(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_7__.a).first().simulate("click"),profileForm().find('input[name="name"]').first().simulate("blur"),profile=profileForm().find("Profile").instance().state.profile,expect(profile.fields[0].mapping).not.toEqual(void 0)}),it("Clicking Save Profile fires the event",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.c,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},profileForm().find(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_6__.a).simulate("click"),expect(props.save).toBeCalled()}),it("Entering a value into an unmapped field adds the field to the selected Persona",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},profileForm().find('input[name="name"]').first().simulate("change",{target:{value:"Techno"}}),profileForm().find('input[name="name"]').first().simulate("focus"),profileForm().find('input[name="name"]').first().simulate("blur")}),it("Check getDerivedStateFromProps returns null when props dont set a profile",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn};var newState=_profile__WEBPACK_IMPORTED_MODULE_4__.a.getDerivedStateFromProps(props,{profile:{}});expect(newState).toEqual(null)}),it("Check getDerivedStateFromProps returns correct state update when props set a profile",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.e,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn};var newState=_profile__WEBPACK_IMPORTED_MODULE_4__.a.getDerivedStateFromProps(props,{profile:{}});expect(newState).toEqual(null)})})},582:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return profileNotMappedHasMatchTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_profile__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var profileNotMappedHasMatchTests=describe("Not mapped has matching defaults",function(){var props,mountedProfile,profileForm=function profileForm(){return mountedProfile||(mountedProfile=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_4__.b,props)))),mountedProfile};beforeEach(function(){mountedProfile=void 0});var mockFn=jest.fn(),mockPromise=jest.fn(function(){return Promise.reject("Profile test mockPromise")});it("A new Profile has an filled AutoCompleteProfileField for each field in the Profile request that matches a Persona field",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.d,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},expect(profileForm().find("AutoCompleteProfileField").length).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.b.fields.length);var fields=profileForm().find('input[name="name"]');expect(fields.first().props().value).toEqual("@philt3r"),expect(fields.at(1).props().value).toEqual("Phil"),expect(fields.last().props().value).toEqual("Beadle")})})},583:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return profileMappedTests});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),enzyme__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2__),_constants__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(2),_profile__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(52),react_router_dom__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(20);Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_2___default.a});var profileMappedTests=describe("Mapped to Persona info",function(){var props,mountedProfile,profileForm=function profileForm(){return mountedProfile||(mountedProfile=Object(enzyme__WEBPACK_IMPORTED_MODULE_1__.mount)(react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_router_dom__WEBPACK_IMPORTED_MODULE_5__.a,{initialEntries:["/"]},react__WEBPACK_IMPORTED_MODULE_0__.createElement(_profile__WEBPACK_IMPORTED_MODULE_4__.b,props)))),mountedProfile};beforeEach(function(){mountedProfile=void 0});var mockFn=jest.fn(),mockPromise=jest.fn(function(){return Promise.reject("Profile test mockPromise")});it("When an valid mapping is used, the Profile form has a populated AutoCompleteProfileField for each field in the Profile request",function(){props={returnUrl:"",personas:_constants__WEBPACK_IMPORTED_MODULE_3__.g,selectedPersona:_constants__WEBPACK_IMPORTED_MODULE_3__.g[0],profile:_constants__WEBPACK_IMPORTED_MODULE_3__.c,save:mockPromise,getProfiles:mockPromise,getPersonas:mockPromise,setCurrentPersona:mockFn},expect(profileForm().find("AutoCompleteProfileField").length).toEqual(_constants__WEBPACK_IMPORTED_MODULE_3__.b.fields.length),profileForm().find('input[name="name"]').map(function(field){expect(field.props().value).not.toEqual(void 0),expect(field.props().value).not.toEqual("")})})})},584:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_exports__.a=""},586:function(module,__webpack_exports__,__webpack_require__){"use strict";var slicedToArray=__webpack_require__(9),defineProperty=__webpack_require__(7),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_router=__webpack_require__(20),AppBar=__webpack_require__(1197),CssBaseline=__webpack_require__(1189),Drawer=__webpack_require__(1200),Hidden=__webpack_require__(1199),IconButton=__webpack_require__(1140),Person=__webpack_require__(77),Person_default=__webpack_require__.n(Person),List=__webpack_require__(588),ListItem=__webpack_require__(347),ListItemIcon=__webpack_require__(1132),ListItemText=__webpack_require__(589),Menu=__webpack_require__(562),Menu_default=__webpack_require__.n(Menu),Toolbar=__webpack_require__(1198),Typography=__webpack_require__(14),makeStyles=__webpack_require__(1127),useTheme=__webpack_require__(111),es=__webpack_require__(18),components_login=__webpack_require__(143),login_actions=__webpack_require__(245),loginContainer=Object(es.b)(function mapStateToProps(){return{title:"Login"}},function mapDispatchToProps(dispatch){return{login:function login(loginSpec){return dispatch(login_actions.a.create({spec:loginSpec}))}}})(components_login.a),persona_personas=__webpack_require__(146),personas_profiles_actions=__webpack_require__(28),personasContainer=Object(es.b)(function mapStateToProps(state){return{personas:state.personasProfiles.profile.personas}},function mapDispatchToProps(dispatch){return{getPersonas:function getPersonas(){return dispatch(personas_profiles_actions.e.create({}))}}})(persona_personas.a),persona=__webpack_require__(91),personaContainer=Object(es.b)(function mapStateToProps(state,ownProps){var persona,personaName=ownProps.match.params.name;return persona="new"===personaName?{name:"",hash:"",fields:[]}:state.personasProfiles.profile.personas.filter(function(persona){return personaName===persona.name})[0],{title:"Persona - ".concat(personaName),currentPersona:persona,personas:state.personasProfiles.profile.personas}},function mapDispatchToProps(dispatch){return{getPersonas:function getPersonas(){return dispatch(personas_profiles_actions.e.create({}))},create:function create(personaSpec,personaFields){return dispatch(personas_profiles_actions.c.create({spec:personaSpec})).then(function(personaAddress){return Promise.all(personaFields.map(function(field){return dispatch(personas_profiles_actions.a.create({persona_address:personaAddress,field:field}))}))})},update:function update(personaAddress,personaSpec,personaFields){return dispatch(personas_profiles_actions.i.create({persona_address:personaAddress,spec:personaSpec})).then(function(updatedPersonaAddress){return Promise.all(personaFields.map(function(field){return dispatch(personas_profiles_actions.a.create({persona_address:updatedPersonaAddress,field:field}))}))})},delete:function _delete(personaAddress){return dispatch(personas_profiles_actions.d.create({persona_address:personaAddress}))}}})(persona.b),profile_profile=__webpack_require__(52);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(defineProperty.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var profileContainer=Object(es.b)(function mapStateToProps(state,ownProps){var profile,returnUrl="/profiles";if(ownProps.match){var hash=ownProps.match.params.hash;profile=state.personasProfiles.profile.profiles.filter(function(profile){return console.log(profile.sourceDna===hash),profile.sourceDna===hash})[0],returnUrl=ownProps.match.params.returnUrl?ownProps.match.params.returnUrl:"/profiles",console.log("returnUrl "+returnUrl)}else profile=state.personasProfiles.profile.currentProfile;return{returnUrl:returnUrl,personas:state.personasProfiles.profile.personas,selectedPersona:state.personasProfiles.profile.currentPersona,profile:profile}},function mapDispatchToProps(dispatch){return{getProfiles:function getProfiles(){return dispatch(personas_profiles_actions.f.create({}))},getPersonas:function getPersonas(){return dispatch(personas_profiles_actions.e.create({}))},setCurrentPersona:function setCurrentPersona(newCurrentPersona){dispatch(Object(personas_profiles_actions.g)(newCurrentPersona))},save:function save(profile,personas){return console.log("About to map ",profile),Promise.all(profile.fields.filter(function(field){return field.mapping}).map(function(field){var actions=[];if(console.log("add the persona field for ",field.displayName),void 0!==field.mapping){var personaAddress=field.mapping.personaAddress,personaFieldName=field.mapping.personaFieldName,selectedPersonas=personas.filter(function(persona){return persona.hash===personaAddress});if(1===selectedPersonas.length){var selectedPersonaFields=selectedPersonas[0].fields.filter(function(field){return field.name===personaFieldName});if(1===selectedPersonaFields.length){var personaField=selectedPersonaFields[0];actions.push(dispatch(personas_profiles_actions.a.create({persona_address:personaAddress,field:personaField})))}}}return console.log("creating map for ",field),actions.push(dispatch(personas_profiles_actions.b.create({mapping:_objectSpread({},field.mapping,{retrieverDna:profile.sourceDna,profileFieldName:field.name})}))),Promise.all(actions)}))}}})(profile_profile.b),profiles=__webpack_require__(248),profilesContainer=Object(es.b)(function mapStateToProps(state){return{profiles:state.personasProfiles.profile.profiles}},function mapDispatchToProps(dispatch){return{getProfiles:function getProfiles(){return dispatch(personas_profiles_actions.f.create({}))}}})(profiles.a),deepKeyOverview=__webpack_require__(253),deepkey_actions=__webpack_require__(68),deepKeyContainer=Object(es.b)(function mapStateToProps(state){return{isInitialized:state.deepkey.deepkey.isInitialized,revocationRuleSet:state.deepkey.deepkey.revocationRuleSet,authorizerKeySet:state.deepkey.deepkey.authorizerKeySet,allKeys:state.deepkey.deepkey.allKeys}},function mapDispatchToProps(dispatch){return{fetchIsInitialized:function fetchIsInitialized(){return dispatch(deepkey_actions.e.create({}))},fetchRevocationRules:function fetchRevocationRules(){return dispatch(deepkey_actions.d.create({}))},fetchAuthorizer:function fetchAuthorizer(){return dispatch(deepkey_actions.c.create({}))},fetchAllKeys:function fetchAllKeys(){return dispatch(deepkey_actions.b.create({}))},updateKey:function updateKey(args){return dispatch(deepkey_actions.f.create(args))},deleteKey:function deleteKey(args){return dispatch(deepkey_actions.a.create(args))}}})(deepKeyOverview.a),useStyles=Object(makeStyles.a)(function(theme){return{root:{display:"flex"},drawer:Object(defineProperty.a)({},theme.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(defineProperty.a)({marginLeft:240},theme.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)")}),menuButton:Object(defineProperty.a)({marginRight:theme.spacing(2)},theme.breakpoints.up("sm"),{display:"none"}),toolbar:theme.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:theme.spacing(3)}}});function Navigation(props){var container=props.container,classes=useStyles(),theme=Object(useTheme.a)(),_React$useState=react_default.a.useState(!1),_React$useState2=Object(slicedToArray.a)(_React$useState,2),mobileOpen=_React$useState2[0],setMobileOpen=_React$useState2[1];function handleDrawerToggle(){setMobileOpen(!mobileOpen)}function handleClickListItem(history,path){history.push(path),setMobileOpen(!mobileOpen)}var drawer=react_default.a.createElement("div",null,react_default.a.createElement("div",{className:classes.toolbar}),react_default.a.createElement(List.a,null,react_default.a.createElement(react_router.b,{render:function render(_ref){var history=_ref.history;return react_default.a.createElement("div",null,react_default.a.createElement(ListItem.a,{button:!0,onClick:function onClick(){handleClickListItem(history,"/deepkey")}},react_default.a.createElement(ListItemIcon.a,null,react_default.a.createElement(Person_default.a,null)),react_default.a.createElement(ListItemText.a,{primary:"Deep Key"})),react_default.a.createElement(ListItem.a,{button:!0,onClick:function onClick(){handleClickListItem(history,"/personas")}},react_default.a.createElement(ListItemIcon.a,null,react_default.a.createElement(Person_default.a,null)),react_default.a.createElement(ListItemText.a,{primary:"Personas"})),react_default.a.createElement(ListItem.a,{button:!0,onClick:function onClick(){handleClickListItem(history,"/profiles")}},react_default.a.createElement(ListItemIcon.a,null,react_default.a.createElement(Person_default.a,null)),react_default.a.createElement(ListItemText.a,{primary:"Profiles"})),react_default.a.createElement(ListItem.a,{button:!0,onClick:function onClick(){handleClickListItem(history,"/login")}},react_default.a.createElement(ListItemIcon.a,null,react_default.a.createElement(Person_default.a,null)),react_default.a.createElement(ListItemText.a,{primary:"Login"})))}})));return react_default.a.createElement("div",{className:classes.root},react_default.a.createElement(CssBaseline.a,null),react_default.a.createElement(AppBar.a,{position:"fixed",className:classes.appBar},react_default.a.createElement(Toolbar.a,null,react_default.a.createElement(IconButton.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:handleDrawerToggle,className:classes.menuButton},react_default.a.createElement(Menu_default.a,null)),react_default.a.createElement(Typography.a,{variant:"h6",noWrap:!0},"Holochain Identity Manager"))),react_default.a.createElement("nav",{className:classes.drawer,"aria-label":"mailbox folders"},react_default.a.createElement(Hidden.a,{smUp:!0,implementation:"css"},react_default.a.createElement(Drawer.a,{container:container,variant:"temporary",anchor:"rtl"===theme.direction?"right":"left",open:mobileOpen,onClose:handleDrawerToggle,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:!0}},drawer)),react_default.a.createElement(Hidden.a,{xsDown:!0,implementation:"css"},react_default.a.createElement(Drawer.a,{classes:{paper:classes.drawerPaper},variant:"permanent",open:!0},drawer))),react_default.a.createElement("main",{className:classes.content},react_default.a.createElement("div",{className:classes.toolbar}),react_default.a.createElement(react_router.b,{exact:!0,path:"/login",title:"Holo",render:function render(props){return react_default.a.createElement("div",null,react_default.a.createElement(loginContainer,props))}}),react_default.a.createElement(react_router.b,{path:"/personas",component:personasContainer}),react_default.a.createElement(react_router.b,{path:"/persona/:name",component:personaContainer}),react_default.a.createElement(react_router.b,{path:"/profiles",component:profilesContainer}),react_default.a.createElement(react_router.b,{exact:!0,path:"/profile/:hash",render:function render(props){return react_default.a.createElement(profileContainer,props)}}),react_default.a.createElement(react_router.b,{exact:!0,path:"/profile/:hash/:returnUrl",render:function render(props){return react_default.a.createElement(profileContainer,props)}}),react_default.a.createElement(react_router.b,{path:"/deepkey",component:deepKeyContainer}),react_default.a.createElement(react_router.b,{exact:!0,path:"/",render:function render(props){return react_default.a.createElement("div",null,react_default.a.createElement(personasContainer,props),react_default.a.createElement(profilesContainer,props),react_default.a.createElement(deepKeyContainer,props))}})))}__webpack_exports__.a=Navigation;Navigation.__docgenInfo={description:"",methods:[],displayName:"Navigation"},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/nav.jsx"]={name:"Navigation",docgenInfo:Navigation.__docgenInfo,path:"src/nav.jsx"})},606:function(module,exports,__webpack_require__){__webpack_require__(607),__webpack_require__(695),module.exports=__webpack_require__(696)},67:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(46),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_material_ui_core___WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(60),_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(179),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(78),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(6),react_autosuggest__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(247),react_autosuggest__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_autosuggest__WEBPACK_IMPORTED_MODULE_13__),_types_profile__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(29),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(14),_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(592),_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(560),_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_17__),_material_ui_icons_Dvr__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(561),_material_ui_icons_Dvr__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_material_ui_icons_Dvr__WEBPACK_IMPORTED_MODULE_18__);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}var match=__webpack_require__(536),parse=__webpack_require__(537),allSuggestions=[];function renderSuggestion(suggestion,_ref2){var query=_ref2.query,isHighlighted=_ref2.isHighlighted,matches=match(suggestion.label,query),parts=parse(suggestion.label,matches);return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_9__.a,{selected:isHighlighted,component:"div"},react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,parts.map(function(part,index){return part.highlight?react__WEBPACK_IMPORTED_MODULE_7__.createElement("span",{key:String(index),style:{fontWeight:300}},part.text):react__WEBPACK_IMPORTED_MODULE_7__.createElement("strong",{key:String(index),style:{fontWeight:500}},part.text)})))}function getSuggestionValue(suggestion){return suggestion.label}function renderSuggestionsContainer(options){var children=options.children;return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_10__.a,Object.assign({},options.containerProps,{square:!0}),children)}function getSuggestions(value){var inputValue=value.trim().toLowerCase(),inputLength=inputValue.length,count=0;return 0===inputLength?[]:allSuggestions.filter(function(suggestion){var keep=count<5&&suggestion.label.toLowerCase().slice(0,inputLength)===inputValue;return keep&&(count+=1),keep})}function UsageIcon(props){switch(props.type){case _types_profile__WEBPACK_IMPORTED_MODULE_14__.a.STORE:return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16__.a,{title:props.reason},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_17___default.a,null));default:return react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Tooltip__WEBPACK_IMPORTED_MODULE_16__.a,{title:props.reason},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_Dvr__WEBPACK_IMPORTED_MODULE_18___default.a,null))}}function Mapping(props){if(props.field.mapping){var mapping=props.field.mapping,filteredPersonas=props.personas.filter(function(persona){return mapping.personaAddress===persona.hash});return filteredPersonas.length>0&&filteredPersonas[0].fields.filter(function(field){return field.name===mapping.personaFieldName}).length>0?react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{className:props.classes.persona},filteredPersonas[0].name+" - "+mapping.personaFieldName):react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{className:props.classes.persona},props.selectedPersona.name+" - "+props.field.name)}var filteredSuggestions=allSuggestions.filter(function(suggestion){return suggestion.field.name===props.field.name});return filteredSuggestions.length>0?react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{className:props.classes.persona},filteredSuggestions[0].persona.name+" - "+filteredSuggestions[0].field.name):react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_15__.a,{className:props.classes.persona},props.selectedPersona.name+" - "+props.field.name)}var AutoCompleteProfileField=function(_React$Component){function AutoCompleteProfileField(props){var _this;return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,AutoCompleteProfileField),(_this=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(AutoCompleteProfileField).call(this,props))).renderInput=function(inputProps){var classes=inputProps.classes,ref=inputProps.ref,other=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_1__.a)(inputProps,["classes","ref"]);return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core___WEBPACK_IMPORTED_MODULE_8__.a,{fullWidth:!0,id:"name",name:"name",label:_this.props.field.displayName,InputProps:_objectSpread({classes:{input:classes.textfield},disableUnderline:!1,inputRef:ref},other)}))},_this.handleChange=function(event,newVal){var newValue=newVal.newValue,field=_this.state.field,selectedSuggestion=allSuggestions.filter(function(suggestion){return newValue===suggestion.label});0===selectedSuggestion.length?(newVal.newValue.length>0?field.mapping={personaAddress:_this.props.selectedPersona.hash,personaFieldName:_this.props.field.name}:field.mapping=void 0,_this.setState({value:newValue,field:field})):(newValue=selectedSuggestion[0].field.data,field.mapping={personaAddress:selectedSuggestion[0].persona.hash,personaFieldName:selectedSuggestion[0].field.name},_this.setState({value:newValue,field:field}))},_this.handleSuggestionsFetchRequested=function(_ref3){var value=_ref3.value;_this.setState({suggestions:getSuggestions(value)})},_this.handleSuggestionsClearRequested=function(){_this.setState({suggestions:[]})},_this.handleMappingChange=function(){_this.props.handleMappingChange(_this.state.field,_this.state.value)},_this.state={selectedPersona:props.selectedPersona,suggestions:[],value:"",field:props.field},_this}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(AutoCompleteProfileField,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(AutoCompleteProfileField,[{key:"componentDidMount",value:function componentDidMount(){if(!this.props.field.mapping){var field=this.state.field,fieldName=this.props.field.name,filteredSuggestions=allSuggestions.filter(function(suggestion){return suggestion.field.name===fieldName});filteredSuggestions.length>0?(field.mapping={personaAddress:filteredSuggestions[0].persona.hash,personaFieldName:filteredSuggestions[0].field.name},this.setState({value:filteredSuggestions[0].field.data,field:field})):(field.mapping=void 0,this.setState({field:field}))}}},{key:"render",value:function render(){var _this$props=this.props,classes=_this$props.classes,field=_this$props.field,profile=_this$props.profile,personas=_this$props.personas,selectedPersona=_this$props.selectedPersona;return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_7__.createElement(react_autosuggest__WEBPACK_IMPORTED_MODULE_13___default.a,{id:"selectedPersonaFieldValue",theme:{container:classes.container,suggestion:classes.suggestion,suggestionsContainerOpen:classes.suggestionsContainerOpen,suggestionsList:classes.suggestionsList},renderInputComponent:this.renderInput,suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.handleSuggestionsFetchRequested,onSuggestionsClearRequested:this.handleSuggestionsClearRequested,renderSuggestionsContainer:renderSuggestionsContainer,getSuggestionValue:getSuggestionValue,renderSuggestion:renderSuggestion,inputProps:{classes:classes,onBlur:this.handleMappingChange,onChange:this.handleChange,value:this.state.value}}),react__WEBPACK_IMPORTED_MODULE_7__.createElement(UsageIcon,{type:field.usage,reason:field.description,className:classes.icon}),react__WEBPACK_IMPORTED_MODULE_7__.createElement(Mapping,{classes:classes,profile:profile,field:this.state.field,personas:personas,selectedPersona:selectedPersona}))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){if(allSuggestions=[],nextProps.personas.map(function(persona){return persona.fields.map(function(field){return allSuggestions.push({persona:persona,field:field,label:field.data+" ("+persona.name+" - "+field.name+")"})})}),nextProps.field.mapping){var mapping=nextProps.field.mapping;if(nextProps.selectedPersona!==prevState.selectedPersona)nextProps.selectedPersona.fields.filter(function(field){return field.name===mapping.personaFieldName}).length>0&&(mapping.personaAddress=nextProps.selectedPersona.hash);var filteredPersonas=nextProps.personas.filter(function(persona){return mapping.personaAddress===persona.hash});if(filteredPersonas.length>0){var filteredData=filteredPersonas[0].fields.filter(function(field){return field.name===mapping.personaFieldName});if(filteredData.length>0)return{value:filteredData[0].data}}}return null}}]),AutoCompleteProfileField}(react__WEBPACK_IMPORTED_MODULE_7__.Component);__webpack_exports__.a=Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_12__.a)(function styles(_ref){var spacing=_ref.spacing;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_11__.a)({root:{width:"100%"},container:{flexGrow:1,position:"relative"},formControl:{background:"red"},inputLabel:{color:"#8d97a5",fontSize:12},menuItem:{fontFamily:"Roboto",fontSize:14,height:16},selectEmpty:{background:"#fff",marginTop:spacing(2)},suggestion:{display:"block"},suggestionsContainerOpen:{left:0,marginTop:spacing(1),position:"absolute",right:0,zIndex:1},suggestionsList:{listStyleType:"none",margin:0,padding:0},persona:{float:"right"}})})(AutoCompleteProfileField)},68:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return IsInitialized}),__webpack_require__.d(__webpack_exports__,"d",function(){return GetRevocationRules}),__webpack_require__.d(__webpack_exports__,"c",function(){return GetAuthorizer}),__webpack_require__.d(__webpack_exports__,"b",function(){return GetAllKeys}),__webpack_require__.d(__webpack_exports__,"f",function(){return UpdateKey}),__webpack_require__.d(__webpack_exports__,"a",function(){return DeleteKey});var _holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(23),IsInitialized=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","is_initialized"),GetRevocationRules=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","get_rules"),GetAuthorizer=(Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","update_rules"),Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","set_authorizor"),Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","get_authorizor")),GetAllKeys=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","get_all_keys"),UpdateKey=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","update_key"),DeleteKey=Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("dpki_happ","dpki","delete_key");Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("admin","agent","add"),Object(_holochain_hc_redux_middleware__WEBPACK_IMPORTED_MODULE_0__.createHolochainZomeCallAsyncAction)("admin","agent","list")},696:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(30),storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(22),expect__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(552),expect__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(expect__WEBPACK_IMPORTED_MODULE_2__),jest_mock__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(553),jest_mock__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(jest_mock__WEBPACK_IMPORTED_MODULE_3__),enzyme__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(11),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(21),enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5__);window.describe=storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_1__.describe,window.beforeEach=storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_1__.beforeEach,window.it=storybook_addon_specifications__WEBPACK_IMPORTED_MODULE_1__.it,window.expect=expect__WEBPACK_IMPORTED_MODULE_2___default.a,window.jest=jest_mock__WEBPACK_IMPORTED_MODULE_3___default.a,Object(enzyme__WEBPACK_IMPORTED_MODULE_4__.configure)({adapter:new enzyme_adapter_react_16__WEBPACK_IMPORTED_MODULE_5___default.a});var req=__webpack_require__(1065);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)(function loadStories(){req.keys().forEach(function(filename){return req(filename)})},module)}.call(this,__webpack_require__(74)(module))},91:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Persona});var _Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(48),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(36),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(27),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(43),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(44),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(46),_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(128),_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(6),_withRoot__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(47),react_router_dom__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(20),_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(78),_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(105),_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(14),_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(60),_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(246),_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_16__),_material_ui_icons_PersonOutline__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(558),_material_ui_icons_PersonOutline__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(_material_ui_icons_PersonOutline__WEBPACK_IMPORTED_MODULE_17__),_material_ui_icons_TextFields__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(557),_material_ui_icons_TextFields__WEBPACK_IMPORTED_MODULE_18___default=__webpack_require__.n(_material_ui_icons_TextFields__WEBPACK_IMPORTED_MODULE_18__),_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(590),_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(1133),_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(1138),_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_22__=__webpack_require__(1136),_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_23__=__webpack_require__(1137),_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_24__=__webpack_require__(1135);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(source,!0).forEach(function(key){Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_6__.a)(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function PersonaField(props){return react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_15__.a,{name:"fieldName".concat(props.index),label:"Field Name",value:props.field.name,onChange:function onChange(e){return function onChangeName(newName){props.onChange(_objectSpread({},props.field,{name:newName}))}(e.target.value)}}),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_15__.a,{name:"fieldValue".concat(props.index),label:"Field Value",value:props.field.data,onChange:function onChange(e){return function onChangeData(newData){props.onChange(_objectSpread({},props.field,{data:newData}))}(e.target.value)}}))}var Persona=function(_React$Component){function Persona(props){var _this;return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__.a)(this,Persona),(_this=Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_3__.a)(this,Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_4__.a)(Persona).call(this,props))).handleSubmit=function(){var personaSpec={name:_this.state.persona.name},personaFields=_this.state.persona.fields;""===_this.state.persona.hash?_this.props.create(personaSpec,personaFields).then(_this.props.getPersonas).catch(function(err){return console.log(err)}):_this.props.update(_this.state.persona.hash,personaSpec,personaFields).then(_this.props.getPersonas).catch(function(err){return console.error(err)}),_this.props.history.push("/personas")},_this.handleConfirmDelete=function(){_this.setState({open:!0})},_this.handleDelete=function(){_this.setState({open:!1}),_this.props.delete(_this.state.persona.hash).then(_this.props.getPersonas).catch(function(err){return console.error(err)}),_this.props.history.push("/personas")},_this.handleCloseDialog=function(){_this.setState({open:!1})},_this.handleAddPersonaField=function(){_this.setState({persona:_objectSpread({},_this.state.persona,{fields:[].concat(Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(_this.state.persona.fields),[{name:"",data:""}])})})},_this.state={open:!1,persona:{name:"",hash:"",fields:[]}},_this}return Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(Persona,_React$Component),Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_2__.a)(Persona,[{key:"componentDidMount",value:function componentDidMount(){this.props.getPersonas({}).catch(function(err){return console.log(err)}),this.setState({open:!1,persona:this.props.currentPersona})}},{key:"updateField",value:function updateField(newField,index){var fields=this.state.persona.fields;this.setState({persona:_objectSpread({},this.state.persona,{fields:[].concat(Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(fields.slice(0,index)),[newField],Object(_Users_philipbeadle_holochain_hApps_identity_manager_ui_src_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(fields.slice(index+1)))})})}},{key:"updateName",value:function updateName(newName){this.setState({persona:_objectSpread({},this.state.persona,{name:newName})})}},{key:"render",value:function render(){var _this2=this,classes=this.props.classes;return this.state.persona?react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",{className:classes.root},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Paper__WEBPACK_IMPORTED_MODULE_12__.a,{className:classes.paper},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"h4"},"Manage Your Personas"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Typography__WEBPACK_IMPORTED_MODULE_14__.a,{variant:"body1",gutterBottom:!0},"You can add a new Persona and add as many fields to it as you like. You will probably have a *Default*, *Work* and a *Friends* persona."),react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_15__.a,{name:"personaName",value:this.state.persona.name,onChange:function onChange(e){return _this2.updateName(e.target.value)},label:"Persona Name"})),this.state.persona.fields.map(function(field,index){return react__WEBPACK_IMPORTED_MODULE_7__.createElement(PersonaField,{key:index,index:index,field:field,onChange:function onChange(newField){return _this2.updateField(newField,index)}})}),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__.a,{name:"addField",color:"primary",onClick:this.handleAddPersonaField},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_TextFields__WEBPACK_IMPORTED_MODULE_18___default.a,null),"Add Field"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__.a,{name:"submitPersona",color:"primary",onClick:function onClick(){return _this2.handleSubmit()}},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_PersonAdd__WEBPACK_IMPORTED_MODULE_16___default.a,null),""===this.state.persona.hash?"Create Persona":"Update Persona"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__.a,{name:"deletePersona",color:"primary",onClick:function onClick(){return _this2.handleConfirmDelete()}},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_icons_PersonOutline__WEBPACK_IMPORTED_MODULE_17___default.a,null),"Delete Persona"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_20__.a,{open:this.state.open,onClose:this.handleCloseDialog},react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_24__.a,{id:"alert-dialog-slide-title"},"Delete ",this.state.persona.name," Persona?"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_22__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_23__.a,null,"Agreeing will delete this Persona.")),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_21__.a,null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__.a,{onClick:this.handleCloseDialog,color:"primary"},"Cancel"),react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_13__.a,{id:"Agree",onClick:this.handleDelete,color:"primary"},"Delete"))))):react__WEBPACK_IMPORTED_MODULE_7__.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_7__.createElement(_material_ui_core_CircularProgress__WEBPACK_IMPORTED_MODULE_19__.a,null))}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(nextProps,prevState){return prevState.persona?null:{persona:nextProps.currentPersona}}}]),Persona}(react__WEBPACK_IMPORTED_MODULE_7__.Component);__webpack_exports__.b=Object(_withRoot__WEBPACK_IMPORTED_MODULE_10__.a)(Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_9__.a)(function styles(_ref){var spacing=_ref.spacing;return Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_8__.a)({root:{textAlign:"left",paddingTop:spacing(1)},button:{marginRight:spacing(1),marginTop:spacing(1)},paper:{padding:spacing(1)}})})(Object(react_router_dom__WEBPACK_IMPORTED_MODULE_11__.c)(Persona)))},928:function(module,exports){},943:function(module,exports){},945:function(module,exports){}},[[606,1,2]]]);
//# sourceMappingURL=main.02f79ab3a9deb5572063.bundle.js.map